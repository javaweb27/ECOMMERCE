var L=Object.defineProperty,_=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var B=(a,t,r)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,k=(a,t)=>{for(var r in t||(t={}))W.call(t,r)&&B(a,r,t[r]);if(A)for(var r of A(t))Y.call(t,r)&&B(a,r,t[r]);return a},C=(a,t)=>_(a,O(t));import{r as l,j as N,N as x,p as g,L as I,R as D,B as U,S as $,a as K}from"./vendor.125ac162.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(c){if(c.ep)return;c.ep=!0;const o=r(c);fetch(c.href,o)}};J();const u="/Proyecto-de-EDcupcake",b=l.exports.createContext(),e=N.exports.jsx,i=N.exports.jsxs,M=N.exports.Fragment,z=()=>{const[a]=l.exports.useContext(b);return i(M,{children:["Carrito: ",a.cart.length]})},Q=()=>i("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:i("ul",{className:"menu",children:[e("li",{className:"item",children:e(x,{to:u+"/",exact:!0,className:"link",activeClassName:"active-page",children:"Inicio"})}),e("li",{className:"item",children:e(x,{to:u+"/cupcakes",exact:!0,className:"link",activeClassName:"active-page",children:"Cupcakes"})}),e("li",{className:"item",children:e(x,{to:u+"/login",exact:!0,className:"link",activeClassName:"active-page",children:"Iniciar Sesion"})}),e("li",{className:"item",children:e(x,{to:u+"/register",exact:!0,className:"link",activeClassName:"active-page",children:"Registrarse"})}),e("li",{className:"item",children:e(x,{to:u+"/cart",exact:!0,className:"link",activeClassName:"active-page",children:e(z,{})})})]})})]}),R={cupcakes:[{id:1,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:2,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:3,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:4,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:5,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:6,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:7,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:8,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:9,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:10,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:11,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:12,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"}],services:[{id:1,name:"Curso de reposteria",description:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"},{id:2,name:"Delivery a toda la cuidad",description:"Pide desde donde quieras y los cupcakes llegaran a tu casa"}]},S="ADD_TO_CART",q="REMOVE_FROM_CART",y="START_INITIAL_STATE",f="SELL_CUPCAKE",H=l.exports.createContext(),E="http://localhost:3050/",X=(a,t,r)=>{fetch(`${E}cupcakes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>{t({type:f,cupcake:a,sold:s.sold}),r({type:f,cupcake:{id:a,sold:s.sold}})})},w=({id:a,description:t,img:r,flavor:s,color:c,price:o,sold:n})=>{const{cupcakesState:d,cupcakesDispatch:h}=l.exports.useContext(H),[p,m]=l.exports.useContext(b),v=()=>m({type:S,cupcake:{id:a,description:t,img:r,flavor:s,color:c,price:o,sold:n}}),F=()=>m({type:q,cupcake:{id:a,description:t,img:r,flavor:s,color:c,price:o,sold:n}});return i("article",{className:"cupcake",children:[e("div",{className:"img-container",children:e("img",{className:n?"img sold":"img",src:r,alt:s})}),i("div",{className:"description",children:[e("p",{className:"text",children:t}),i("span",{className:"text",children:["Color: ",c]}),i("span",{className:"text",children:["Precio: ",o]})]}),i("div",{className:"buttons",children:[n?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>{if(d.cupcakes&&!d.error)return X(a,h,m);h({type:f,cupcake:a,sold:!0,error:d.error}),m({type:f,cupcake:{id:a,sold:!0}})},children:"Vender"}),p.cart.find(V=>V.id===a)?e("button",{onClick:F,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:v,children:"Agregar al carrito"})]})]})};w.propTypes={price:g.exports.number,color:g.exports.string.isRequired,description:g.exports.string.isRequired,flavor:g.exports.string.isRequired,img:g.exports.string};w.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const j=({title:a,specificCupcakes:t})=>{const{cupcakesState:r}=l.exports.useContext(H),{cupcakes:s}=r,c=s&&t=="MOST_SOLD"?s.filter(o=>o.flavor==="Chocolate"):s;return i(M,{children:[a==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),i("section",{className:"cupcakes",children:[a==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:c?c.map(({id:o,description:n,img:d,flavor:h,color:p,price:m,sold:v})=>e(w,{id:o,description:n,img:d,flavor:h,color:p,price:m,sold:v},o)):e("span",{children:"cargando"})})]})]})},T=a=>{const[t,r]=l.exports.useState(),[s,c]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${E}${a}`).then(o=>o.ok&&o.json()).then(o=>r(o)).catch(o=>c(o))},[a]),[t,s]},Z=({request:a})=>{let[t,r]=T(a);return(!t&&r||!t&&!r)&&(t=R.services),e("section",{className:"services",children:t?t.map(s=>i("article",{children:[e("h2",{children:s.name}),e("p",{children:s.description})]},s.id)):e("span",{children:"cargando"})})},ee=()=>i("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),i("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(I,{to:u+"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),ae=()=>i(M,{children:[e(ee,{}),e(j,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(Z,{request:"services"})]}),te=()=>e(j,{title:"h1"}),re=()=>{const[a]=l.exports.useContext(b);return i("section",{className:"cart-cupcakes",children:[e("h2",{className:"title",children:"Cupcakes del carrito"}),e("div",{className:"container",children:a.cart.map(({id:t,description:r,img:s,flavor:c,color:o,price:n,sold:d})=>e(w,{id:t,description:r,img:s,flavor:c,color:o,price:n,sold:d},t))})]})},se=()=>e(re,{}),ce=()=>{const[a,t]=l.exports.useState({email:"",password:""}),r=c=>{t(C(k({},a),{[c.target.name]:c.target.value}))};return i("section",{children:[e("h1",{className:"title",children:"Iniciar sesion"}),i("form",{action:"",onSubmit:c=>{c.preventDefault(),alert("iniciar sesion")},className:"login",children:[i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:a.email,onChange:r,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:a.password,onChange:r,required:!0})]}),e("input",{type:"submit",value:"Ingresar"})]})]})},oe=()=>e(ce,{}),ie=()=>{const[a,t]=l.exports.useState({name:"",email:"",password:""}),[r,s]=l.exports.useState(""),[c,o]=l.exports.useState(!1),n=p=>{if(t(C(k({},a),{[p.target.name]:p.target.value})),r&&r!==p.target.value)return o(!0);o(!1)},d=p=>{if(s(p.target.value),a.password!==p.target.value)return o(!0);o(!1)};return i("section",{children:[e("h1",{className:"title",children:"Registrar usuario"}),i("form",{action:"",onSubmit:p=>{p.preventDefault(),a.password===r&&alert("registrar")},className:"register",children:[i("label",{htmlFor:"name",className:"data",children:["Escribe tu nombre de usuario",e("input",{type:"text",name:"name",value:a.name,onChange:n,required:!0})]}),i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:a.email,onChange:n,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:a.password,onChange:n,required:!0})]}),i("label",{htmlFor:"repeat-password",className:"data",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:r,onChange:d,required:!0})]}),e("p",{className:`error-message${c?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})},ne=()=>e(ie,{}),le=()=>e("h1",{children:"404 not found"}),G=({component:a})=>e(D,{children:a}),P=({component:a})=>e(D,{children:a}),pe=(a,{type:t,cupcake:r})=>t===S?{cart:a.cart.concat(r)}:t===q?{cart:a.cart.filter(s=>s.id!==r.id)}:t===f?{cart:a.cart.map(s=>(s.id===r.id&&(s.sold=r.sold),s))}:a,ue={cart:[]},de=({children:a})=>{const[t,r]=l.exports.useReducer(pe,ue);return e(b.Provider,{value:[t,r],children:a})},me=(a,{type:t,cupcakes:r,error:s,cupcake:c,sold:o})=>t===y?{cupcakes:r,error:s}:t===f?{cupcakes:a.cupcakes.map(n=>(n.id===c&&(n.sold=o),n)),error:s}:a,fe=({children:a,request:t})=>{const r={},[s,c]=T(t),[o,n]=l.exports.useReducer(me,r);return l.exports.useEffect(()=>{if(s&&!c){n({type:y,cupcakes:s,error:c});return}n({type:y,cupcakes:R.cupcakes,error:c})},[s,c]),e(H.Provider,{value:{cupcakesState:o,cupcakesDispatch:n},children:a})},he=()=>e(de,{children:e(fe,{request:"cupcakes",children:i(U,{children:[e(Q,{}),i($,{children:[e(P,{path:u+"/login",exact:!0,component:oe}),e(P,{path:u+"/register",exact:!0,component:ne}),e(G,{path:u+"/cart",exact:!0,component:se}),e(G,{path:u+"/cupcakes",exact:!0,component:te}),e(G,{path:u+"/",exact:!0,component:ae}),e(D,{path:"*",component:le})]})]})})});K.exports.render(e(l.exports.StrictMode,{children:e(he,{})}),document.getElementById("root"));
