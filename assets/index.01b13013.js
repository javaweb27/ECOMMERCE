var I=Object.defineProperty,j=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var T=(t,r,a)=>r in t?I(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,k=(t,r)=>{for(var a in r||(r={}))B.call(r,a)&&T(t,a,r[a]);if(E)for(var a of E(r))U.call(r,a)&&T(t,a,r[a]);return t},b=(t,r)=>j(t,H(r));import{r as l,j as R,N as m,p as h,L as V,R as w,B as G,S as $,a as K}from"./vendor.125ac162.js";const W=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}};W();const d="/Proyecto-de-EDcupcake",f=l.exports.createContext(),e=R.exports.jsx,i=R.exports.jsxs,S=R.exports.Fragment,Y=()=>{const[t]=l.exports.useContext(f);return i(S,{children:["Carrito: ",t.cart.length]})},J=()=>i("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:i("ul",{className:"menu",children:[e("li",{className:"item",children:e(m,{to:d+"/",exact:!0,className:"link",activeClassName:"active-page",children:"Inicio"})}),e("li",{className:"item",children:e(m,{to:d+"/cupcakes",exact:!0,className:"link",activeClassName:"active-page",children:"Cupcakes"})}),e("li",{className:"item",children:e(m,{to:d+"/login",exact:!0,className:"link",activeClassName:"active-page",children:"Iniciar Sesion"})}),e("li",{className:"item",children:e(m,{to:d+"/register",exact:!0,className:"link",activeClassName:"active-page",children:"Registrarse"})}),e("li",{className:"item",children:e(m,{to:d+"/cart",exact:!0,className:"link",activeClassName:"active-page",children:e(Y,{})})})]})})]}),D="ADD_TO_CART",P="REMOVE_FROM_CART",L="START_INITIAL_STATE",_="SELL_CUPCAKE",y=l.exports.createContext(),F="http://localhost:3050/",z=(t,r)=>{fetch(`${F}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(a=>a.ok&&a.json()).then(a=>r({type:_,cupcake:t,sold:a.sold}))},g=({id:t,description:r,img:a,flavor:n,color:s,price:c,sold:o})=>{const{cupcakesDispatch:p}=l.exports.useContext(y),[x,u]=l.exports.useContext(f),C=()=>u({type:D,cupcake:{id:t,description:r,img:a,flavor:n,color:s,price:c,sold:o}}),N=()=>u({type:P,cupcake:{id:t,description:r,img:a,flavor:n,color:s,price:c,sold:o}});return i("article",{className:"cupcake",children:[e("div",{children:e("img",{className:o?"img sold":"img",src:a,alt:n})}),e("p",{className:"text",children:r}),i("span",{className:"text",children:["Color: ",s]}),i("span",{className:"text",children:["Precio: ",c]}),i("div",{className:"buttons",children:[o?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>z(t,p),children:"Vender"}),x.cart.find(v=>v.id===t)?e("button",{onClick:N,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:C,children:"Agregar al carrito"})]})]})};g.propTypes={price:h.exports.number,color:h.exports.string.isRequired,description:h.exports.string.isRequired,flavor:h.exports.string.isRequired,img:h.exports.string};g.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const q=({title:t,specificCupcakes:r})=>{const{cupcakesState:a}=l.exports.useContext(y),{cupcakes:n,error:s}=a,c=n&&r=="MOST_SOLD"?n.filter(o=>o.flavor==="Chocolate"):n;return s?e("span",{children:"hubo un error en cupcakes"}):i(S,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),i("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:c?c.map(({id:o,description:p,img:x,flavor:u,color:C,price:N,sold:v})=>e(g,{id:o,description:p,img:x,flavor:u,color:C,price:N,sold:v},o)):e("span",{children:"cargando"})})]})]})},O=t=>{const[r,a]=l.exports.useState(),[n,s]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${F}${t}`).then(c=>c.ok&&c.json()).then(c=>a(c)).catch(c=>s(c))},[t]),[r,n]},Q=({request:t})=>{const[r,a]=O(t);return a?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:r?r.map(n=>i("article",{children:[e("h2",{children:n.name}),e("p",{children:n.description})]},n.id)):e("span",{children:"cargando"})})},X=()=>i("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),i("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(V,{to:d+"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),Z=()=>i(S,{children:[e(X,{}),e(q,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(Q,{request:"services"})]}),ee=()=>e(q,{title:"h1"}),te=()=>{const[t]=l.exports.useContext(f);return i("section",{className:"cart-cupcakes",children:[e("h2",{children:"Cupcakes del carrito"}),e("div",{className:"container",children:t.cart.map(({id:r,description:a,img:n,flavor:s,color:c,price:o,sold:p})=>e(g,{id:r,description:a,img:n,flavor:s,color:c,price:o,sold:p},r))})]})},re=()=>e(te,{}),ae=()=>{const[t,r]=l.exports.useState({email:"",password:""}),a=s=>{r(b(k({},t),{[s.target.name]:s.target.value}))};return i("section",{children:[e("h1",{className:"title",children:"Iniciar sesion"}),i("form",{action:"",onSubmit:s=>{s.preventDefault(),alert("iniciar sesion")},className:"login",children:[i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:t.email,onChange:a,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:a,required:!0})]}),e("input",{type:"submit",value:"Ingresar"})]})]})},se=()=>e(ae,{}),ce=()=>{const[t,r]=l.exports.useState({name:"",email:"",password:""}),[a,n]=l.exports.useState(""),[s,c]=l.exports.useState(!1),o=u=>{if(r(b(k({},t),{[u.target.name]:u.target.value})),a&&a!==u.target.value)return c(!0);c(!1)},p=u=>{if(n(u.target.value),t.password!==u.target.value)return c(!0);c(!1)};return i("section",{children:[e("h1",{className:"title",children:"Registrar usuario"}),i("form",{action:"",onSubmit:u=>{u.preventDefault(),t.password===a&&alert("registrar")},className:"register",children:[i("label",{htmlFor:"name",className:"data",children:["Escribe tu nombre de usuario",e("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0})]}),i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:o,required:!0})]}),i("label",{htmlFor:"repeat-password",className:"data",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:a,onChange:p,required:!0})]}),e("p",{className:`error-message${s?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})},ne=()=>e(ce,{}),oe=()=>e("h1",{children:"404 not found"}),A=({component:t})=>e(w,{children:t}),M=({component:t})=>e(w,{children:t}),ie=(t,{type:r,cupcake:a})=>r===D?{cart:t.cart.concat(a)}:r===P?{cart:t.cart.filter(n=>n.id!==a.id)}:t,le={cart:[]},ue=({children:t})=>{const[r,a]=l.exports.useReducer(ie,le);return e(f.Provider,{value:[r,a],children:t})},de=(t,{type:r,cupcakes:a,error:n,cupcake:s,sold:c})=>r===L?{cupcakes:a,error:n}:r===_?{cupcakes:t.cupcakes.map(o=>(o.id===s&&(o.sold=c),o))}:t,pe=({children:t,request:r})=>{const a={},[n,s]=O(r),[c,o]=l.exports.useReducer(de,a);return l.exports.useEffect(()=>{(n||s)&&o({type:L,cupcakes:n,error:s})},[n,s]),e(y.Provider,{value:{cupcakesState:c,cupcakesDispatch:o},children:t})},me=()=>e(ue,{children:e(pe,{request:"cupcakes",children:i(G,{children:[e(J,{}),i($,{children:[e(M,{path:d+"/login",exact:!0,component:se}),e(M,{path:d+"/register",exact:!0,component:ne}),e(A,{path:d+"/cart",exact:!0,component:re}),e(A,{path:d+"/cupcakes",exact:!0,component:ee}),e(A,{path:d+"/",exact:!0,component:Z}),e(w,{path:"*",component:oe})]})]})})});K.exports.render(e(l.exports.StrictMode,{children:e(me,{})}),document.getElementById("root"));
