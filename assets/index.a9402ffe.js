var I=Object.defineProperty,j=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var y=(t,s,r)=>s in t?I(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,d=(t,s)=>{for(var r in s||(s={}))B.call(s,r)&&y(t,r,s[r]);if(A)for(var r of A(s))U.call(s,r)&&y(t,r,s[r]);return t},h=(t,s)=>j(t,H(s));import{r as l,j as b,N as V,L as G,p as m,R as N,B as $,S as K,a as W}from"./vendor.dbb23f3e.js";const Y=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};Y();const R=l.exports.createContext(),e=b.exports.jsx,o=b.exports.jsxs,E=b.exports.Fragment,J=()=>{const[t]=l.exports.useContext(R);return o("span",{children:["Carrito: ",t.cart.length]})},f="/Proyecto-de-EDcupcake",x=({navLink:t,link:s,path:r,text:c})=>{const n={className:"link",to:f+r};if(t)return n.exact=!0,n.activeClassName="active-page",e(V,h(d({},n),{children:c}));if(s)return e(G,h(d({},n),{children:c}))},z=()=>o("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:o("ul",{className:"menu",children:[e("li",{className:"item",children:e(x,{navLink:!0,path:"/",text:"Inicio"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/cupcakes",text:"Cupcakes"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/login",text:"Iniciar sesion"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/register",text:"Registrarse"})}),e("li",{className:"item",children:e(J,{})})]})})]}),T="ADD_TO_CART",D="REMOVE_FROM_CART",L="START_INITIAL_STATE",P="SELL_CUPCAKE",w=l.exports.createContext(),_="http://localhost:3050/",Q=(t,s)=>{fetch(`${_}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(r=>r.ok&&r.json()).then(r=>s({type:P,cupcake:t,sold:r.sold}))},S=({id:t,description:s,img:r,flavor:c,color:n,price:a,sold:i})=>{const{cupcakesDispatch:p}=l.exports.useContext(w),[g,u]=l.exports.useContext(R),k=()=>u({type:T,cupcake:t}),C=()=>u({type:D,cupcake:t});return o("article",{className:"cupcake",children:[e("div",{children:e("img",{className:i?"img sold":"img",src:r,alt:c})}),e("p",{className:"text",children:s}),o("span",{className:"text",children:["Color: ",n]}),o("span",{className:"text",children:["Precio: ",a]}),o("div",{className:"buttons",children:[i?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>Q(t,p),children:"Vender"}),g.cart.find(v=>v===t)?e("button",{onClick:C,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:k,children:"Agregar al carrito"})]})]})};S.propTypes={price:m.exports.number,color:m.exports.string.isRequired,description:m.exports.string.isRequired,flavor:m.exports.string.isRequired,img:m.exports.string};S.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const F=({title:t,specificCupcakes:s})=>{const{cupcakesState:r}=l.exports.useContext(w),{cupcakes:c,error:n}=r,a=c&&s=="MOST_SOLD"?c.filter(i=>i.flavor==="Chocolate"):c;return n?e("span",{children:"hubo un error en cupcakes"}):o(E,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),o("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:a?a.map(({id:i,description:p,img:g,flavor:u,color:k,price:C,sold:v})=>e(S,{id:i,description:p,img:g,flavor:u,color:k,price:C,sold:v},i)):e("span",{children:"cargando"})})]})]})},q=t=>{const[s,r]=l.exports.useState(),[c,n]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${_}${t}`).then(a=>a.ok&&a.json()).then(a=>r(a)).catch(a=>n(a))},[t]),[s,c]},X=({request:t})=>{const[s,r]=q(t);return r?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:s?s.map(c=>o("article",{children:[e("h2",{children:c.name}),e("p",{children:c.description})]},c.id)):e("span",{children:"cargando"})})},Z=()=>o("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),o("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(x,{link:!0,path:"/cupcakes",text:"Ver cupcakes"})]})]}),ee=()=>o(E,{children:[e(Z,{}),e(F,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(X,{request:"services"})]}),te=()=>e(F,{title:"h1"}),re=()=>{const[t,s]=l.exports.useState({email:"",password:""}),r=n=>{s(h(d({},t),{[n.target.name]:n.target.value}))};return o("section",{children:[e("h1",{children:"Iniciar sesion"}),o("form",{action:"",onSubmit:n=>{n.preventDefault(),alert("iniciar sesion")},children:[o("label",{htmlFor:"",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:r,required:!0})]}),o("label",{htmlFor:"",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:r,required:!0})]}),e("button",{children:"Ingresar"})]})]})},se=()=>e(re,{}),ne=()=>{const[t,s]=l.exports.useState({email:"",password:""}),[r,c]=l.exports.useState(""),[n,a]=l.exports.useState(!1),i=u=>{if(s(h(d({},t),{[u.target.name]:u.target.value})),r&&r!==u.target.value)return a(!0);a(!1)},p=u=>{if(c(u.target.value),t.password!==u.target.value)return a(!0);a(!1)};return o("section",{children:[e("h1",{children:"Registrar usuario"}),o("form",{action:"",onSubmit:u=>{u.preventDefault(),t.password===r&&(alert("registrar"),console.log(t))},children:[o("label",{htmlFor:"email",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:i,required:!0})]}),o("label",{htmlFor:"password",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:i,required:!0})]}),o("label",{htmlFor:"repeat-password",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:r,onChange:p,required:!0}),n&&e("span",{children:"Las contrase\xF1as tienen que ser iguales"})]}),e("button",{children:"Registrar"})]})]})},ae=()=>e(ne,{}),ce=()=>e("h1",{children:"404 not found"}),O=({component:t})=>e(N,{render:t}),M=({component:t})=>e(N,{component:t}),oe=(t,{type:s,cupcake:r})=>s===T?{cart:t.cart.concat(r)}:s===D?{cart:t.cart.filter(c=>c!==r)}:t,ie={cart:[]},le=({children:t})=>{const[s,r]=l.exports.useReducer(oe,ie);return e(R.Provider,{value:[s,r],children:t})},ue=(t,{type:s,cupcakes:r,error:c,cupcake:n,sold:a})=>s===L?{cupcakes:r,error:c}:s===P?{cupcakes:t.cupcakes.map(i=>(i.id===n&&(i.sold=a),i))}:t,pe=({children:t,request:s})=>{const r={},[c,n]=q(s),[a,i]=l.exports.useReducer(ue,r);return l.exports.useEffect(()=>{(c||n)&&i({type:L,cupcakes:c,error:n})},[c,n]),e(w.Provider,{value:{cupcakesState:a,cupcakesDispatch:i},children:t})},de=()=>e(le,{children:e(pe,{request:"cupcakes",children:o($,{children:[e(z,{}),o(K,{children:[e(M,{path:f+"/login",exact:!0,component:se}),e(M,{path:f+"/register",exact:!0,component:ae}),e(O,{path:f+"/cupcakes",exact:!0,component:te}),e(O,{path:f+"/",exact:!0,component:ee}),e(N,{path:"*",component:ce})]})]})})});W.exports.render(e(l.exports.StrictMode,{children:e(de,{})}),document.getElementById("root"));
