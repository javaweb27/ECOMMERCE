var F=Object.defineProperty,V=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var G=(r,a,t)=>a in r?F(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,k=(r,a)=>{for(var t in a||(a={}))z.call(a,t)&&G(r,t,a[t]);if(A)for(var t of A(a))Y.call(a,t)&&G(r,t,a[t]);return r},M=(r,a)=>V(r,_(a));import{r as l,j as C,N as I,p as h,L as O,B as W,R as U,a as p,b as $}from"./vendor.2586deb5.js";const K=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}};K();const B=r=>r.getBoundingClientRect().height,w=l.exports.createContext(),e=C.exports.jsx,i=C.exports.jsxs,m=C.exports.Fragment,J=()=>{const[r]=l.exports.useContext(w);return i("span",{children:["Carrito: ",r.cart.length]})},x=({to:r,children:a})=>e("li",{className:"item",children:e(I,{to:r,className:({isActive:t})=>t?"link active-page":"link",children:a})}),Q=()=>{const r=l.exports.useRef();return document.onscroll=()=>{window.scrollY>=B(document.getElementById("banner-section"))-B(r.current)?r.current.classList.add("bg-active"):r.current.classList.remove("bg-active")},i("header",{ref:r,className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://images.unsplash.com/photo-1572451479139-6a308211d8be?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:i("ul",{className:"menu",children:[e(x,{to:"/",children:"Inicio"}),e(x,{to:"/cupcakes",children:"Cupcakes"}),e(x,{to:"/login",children:"Iniciar Sesion"}),e(x,{to:"/register",children:"Registrarse"}),e(x,{to:"/cart",children:e(J,{})})]})})]})},H=l.exports.createContext(),R="http://localhost:3050/",q="ADD_TO_CART",L="REMOVE_FROM_CART",N="START_INITIAL_STATE",f="SELL_CUPCAKE",X=(r,a,t)=>{fetch(`${R}cupcakes/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>{a({type:f,cupcake:r,sold:s.sold}),t({type:f,cupcake:{id:r,sold:s.sold}})})},Z=({id:r,sold:a,cupcakesState:t,cupcakesDispatch:s,cartDispatch:o})=>e(m,{children:a?e("span",{className:"text sold-tag",children:"vendido"}):e("button",{onClick:()=>{if(t.cupcakes&&!t.error){X(r,s,o);return}s({type:f,cupcake:r,sold:!0,error:t.error}),o({type:f,cupcake:{id:r,sold:!0}})},className:"btn-sell",children:"Vender"})}),y=(r,a,t=null,s=null)=>{const o={cart:e("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),cart_checked:i(m,{children:[e("path",{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),cart_remove:i(m,{children:[e("path",{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})};return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:s,fill:"currentColor",className:`bi ${a}`,viewBox:"0 0 16 16",children:o[r]})},ee=({cartState:r,cartDispatch:a,cupcake:t})=>{const s=()=>a({type:q,cupcake:t}),o=()=>a({type:L,cupcake:t});return e(m,{children:r.cart.find(c=>c.id===t.id)?i("button",{onClick:o,className:"text btn-remove",children:[y("cart_checked","bi-cart-checked","100%"),y("cart_remove","bi-cart-remove","100%")]}):e("button",{onClick:s,className:"text btn-add",children:y("cart","bi-cart","100%")})})},v=({id:r,description:a,img:t,flavor:s,color:o,price:c,sold:n})=>{const{cupcakesState:u,cupcakesDispatch:b}=l.exports.useContext(H),[d,g]=l.exports.useContext(w);return i("article",{className:"cupcake",children:[e("div",{className:"img-container",children:e("img",{className:n?"img sold":"img",src:t,alt:s})}),i("div",{className:"description",children:[e("p",{className:"text",children:a}),i("span",{className:"text",children:["Color: ",o]}),i("span",{className:"text",children:["Precio: ",c]})]}),i("div",{className:"buttons",children:[e(Z,{id:r,sold:n,cupcakesState:u,cupcakesDispatch:b,cartDispatch:g}),e(ee,{cartState:d,cartDispatch:g,cupcake:{id:r,description:a,img:t,flavor:s,color:o,price:c,sold:n}})]})]})};v.propTypes={price:h.exports.number,color:h.exports.string.isRequired,description:h.exports.string.isRequired,flavor:h.exports.string.isRequired,img:h.exports.string};v.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const j=({title:r,specificCupcakes:a})=>{const{cupcakesState:t}=l.exports.useContext(H),{cupcakes:s}=t,o=s&&a=="MOST_SOLD"?s.filter(c=>c.flavor==="Chocolate"):s;return i(m,{children:[r==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),i("section",{className:"cupcakes",children:[r==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:o?o.map(({id:c,description:n,img:u,flavor:b,color:d,price:g,sold:P})=>e(v,{id:c,description:n,img:u,flavor:b,color:d,price:g,sold:P},c)):e("span",{children:"cargando"})})]})]})},E={cupcakes:[{id:1,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:2,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:3,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:4,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:5,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:6,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:7,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:8,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:9,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:10,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:11,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:12,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"}],services:[{id:1,name:"Curso de reposteria",description:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"},{id:2,name:"Delivery a toda la cuidad",description:"Pide desde donde quieras y los cupcakes llegaran a tu casa"}]},S=r=>{const[a,t]=l.exports.useState(),[s,o]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${R}${r}`).then(c=>c.ok&&c.json()).then(c=>t(c)).catch(c=>o(c))},[r]),[a,s]},re=({request:r})=>{let[a,t]=S(r);return(!a&&t||!a&&!t)&&(a=E.services),e("section",{className:"services",children:a?a.map(s=>i("article",{children:[e("h2",{children:s.name}),e("p",{children:s.description})]},s.id)):e("span",{children:"cargando"})})},ae=()=>i("section",{className:"banner",id:"banner-section",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),i("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(O,{to:"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),te=()=>i(m,{children:[e(ae,{}),e(j,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(re,{request:"services"})]}),se=()=>e(j,{title:"h1"}),oe=()=>{const[r]=l.exports.useContext(w);return i("section",{className:"cart-cupcakes",children:[e("h2",{className:"title",children:r.cart.length?"Cupcakes del carrito":"No tienes cupcakes en el carrito"}),e("div",{className:"container",children:r.cart.map(({id:a,description:t,img:s,flavor:o,color:c,price:n,sold:u})=>e(v,{id:a,description:t,img:s,flavor:o,color:c,price:n,sold:u},a))})]})},ce=()=>e(oe,{}),ie=()=>{const[r,a]=l.exports.useState({email:"",password:""}),t=o=>{a(M(k({},r),{[o.target.name]:o.target.value}))};return i("section",{children:[e("h1",{className:"title",children:"Iniciar sesion"}),i("form",{action:"",onSubmit:o=>{o.preventDefault(),alert("iniciar sesion")},className:"login",children:[i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:r.email,onChange:t,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:r.password,onChange:t,required:!0})]}),e("input",{type:"submit",value:"Ingresar"})]})]})},ne=()=>{const[r,a]=l.exports.useState({name:"",email:"",password:""}),[t,s]=l.exports.useState(""),[o,c]=l.exports.useState(!1),n=d=>{if(a(M(k({},r),{[d.target.name]:d.target.value})),t&&t!==d.target.value)return c(!0);c(!1)},u=d=>{if(s(d.target.value),r.password!==d.target.value)return c(!0);c(!1)};return i("section",{children:[e("h1",{className:"title",children:"Registrar usuario"}),i("form",{action:"",onSubmit:d=>{d.preventDefault(),r.password===t&&alert("registrar")},className:"register",children:[i("label",{htmlFor:"name",className:"data",children:["Escribe tu nombre de usuario",e("input",{type:"text",name:"name",value:r.name,onChange:n,required:!0})]}),i("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:r.email,onChange:n,required:!0})]}),i("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:r.password,onChange:n,required:!0})]}),i("label",{htmlFor:"repeat-password",className:"data",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:t,onChange:u,required:!0})]}),e("p",{className:`error-message${o?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})},le=()=>e("h1",{children:"404 not found"}),D=({render:r})=>e(r,{}),T=({render:r})=>e(r,{}),de=(r,{type:a,cupcake:t})=>a===q?{cart:r.cart.concat(t)}:a===L?{cart:r.cart.filter(s=>s.id!==t.id)}:a===f?{cart:r.cart.map(s=>(s.id===t.id&&(s.sold=t.sold),s))}:r,ue={cart:[]},pe=({children:r})=>{const[a,t]=l.exports.useReducer(de,ue);return e(w.Provider,{value:[a,t],children:r})},me=(r,{type:a,cupcakes:t,error:s,cupcake:o,sold:c})=>a===N?{cupcakes:t,error:s}:a===f?{cupcakes:r.cupcakes.map(n=>(n.id===o&&(n.sold=c),n)),error:s}:r,fe=({children:r,request:a})=>{const t={},[s,o]=S(a),[c,n]=l.exports.useReducer(me,t);return l.exports.useEffect(()=>{if(s&&!o){n({type:N,cupcakes:s,error:o});return}n({type:N,cupcakes:E.cupcakes,error:o})},[s,o]),e(H.Provider,{value:{cupcakesState:c,cupcakesDispatch:n},children:r})},he=()=>e(pe,{children:e(fe,{request:"cupcakes",children:i(W,{basename:"/Proyecto-de-EDcupcake",children:[e(Q,{}),i(U,{children:[e(p,{path:"/login",element:e(T,{render:ie})}),e(p,{path:"/register",element:e(T,{render:ne})}),e(p,{path:"/cart",element:e(D,{render:ce})}),e(p,{path:"/cupcakes",element:e(D,{render:se})}),e(p,{path:"/",element:e(D,{render:te})}),e(p,{path:"*",element:e(le,{})})]})]})})});$.exports.render(e(l.exports.StrictMode,{children:e(he,{})}),document.getElementById("root"));
