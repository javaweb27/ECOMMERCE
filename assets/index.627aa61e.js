var O=Object.defineProperty,Y=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var q=(a,t,s)=>t in a?O(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,y=(a,t)=>{for(var s in t||(t={}))U.call(t,s)&&q(a,s,t[s]);if(B)for(var s of B(t))J.call(t,s)&&q(a,s,t[s]);return a},C=(a,t)=>Y(a,W(t));import{j as i,a as e,L as z,u as g,F as m,r as l,N as K,b as A,p as f,c as Z,d as Q,P as X,B as ee,R as ae,e as u,f as te}from"./vendor.0f980395.js";const se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};se();const re=()=>i("section",{className:"banner",id:"banner-section",children:[e("img",{className:"bg-img",alt:"cupcakes ecommerce",src:"https://images.unsplash.com/photo-1581978392302-136a082482e5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=869&q=80"}),i("div",{className:"container",children:[e("h1",{children:"Bievenido a ECOMMERCE"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(z,{to:"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),oe=a=>a.getBoundingClientRect().height,ce=()=>{const a=g(({cart:t})=>t);return i("span",{children:["Carrito: ",a.length]})},x=({name:a,className:t,width:s=null,height:c=null})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,fill:"currentColor",className:t,viewBox:"0 0 16 16",children:{cart:e("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),cart_checked:i(m,{children:[e("path",{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),cart_remove:i(m,{children:[e("path",{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),close:i(m,{children:[e("path",{fillRule:"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),e("path",{fillRule:"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]}),list:e("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})}[a]}),ie="_button_1kb6k_1",ne="_list_1kb6k_15",le="_close_1kb6k_15";var w={button:ie,list:ne,close:le,"is-active":"_is-active_1kb6k_24"};const de=({menuRef:a})=>{const t=l.exports.useRef();return i("button",{ref:t,onClick:()=>{a.current.classList.toggle("is-active"),t.current.classList.toggle(w["is-active"])},className:w.button,children:[e(x,{name:"list",className:w.list}),e(x,{name:"close",className:w.close})]})},ue="_item_1mv86_1",pe="_link_1mv86_5",me="_active_1mv86_19";var v={item:ue,link:pe,active:me};const b=({to:a,children:t})=>{const s=({isActive:c})=>c?`${v.link} ${v.active}`:v.link;return e("li",{className:v.item,children:e(K,{to:a,className:s,children:t})})},he=({headerForHome:a})=>{const t=l.exports.useRef(),s=l.exports.useRef();return document.onscroll=()=>{!a||(window.scrollY>=window.innerHeight-oe(t.current)?t.current.classList.add("bg-active"):t.current.classList.remove("bg-active"))},i("header",{ref:t,className:`header${a?" fixed":""}`,children:[e("div",{className:"img-container",children:e("img",{src:"https://images.unsplash.com/photo-1572451479139-6a308211d8be?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",alt:"icono de ecommerce"})}),e("span",{}),e("nav",{children:i("ul",{ref:s,className:"menu",children:[e(b,{to:"/",children:"Inicio"}),e(b,{to:"/cupcakes",children:"Cupcakes"}),e(b,{to:"/login",children:"Iniciar Sesion"}),e(b,{to:"/register",children:"Registrarse"}),e(b,{to:"/cart",children:e(ce,{})})]})}),e(de,{menuRef:s})]})},h=({headerForHome:a,children:t})=>i(m,{children:[e(he,{headerForHome:a}),e("main",{children:t})]}),fe="_feature_1pb9b_1",be="_title_1pb9b_5",xe="_par_1pb9b_9";var M={feature:fe,title:be,par:xe,"img-container":"_img-container_1pb9b_13"};const k=()=>i("article",{className:M.feature,children:[e("h3",{className:M.title,children:"Lorem ipsum sit amet"}),e("p",{className:M.par,children:"Enim omnis, neque dignissimos perspiciatis ab quidem dolores at quos, Enim omnis, neque dignissimos perspiciatis."}),e("div",{className:M["img-container"],children:e("img",{src:"https://images.unsplash.com/photo-1561817245-7af134029cea?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=869&q=80",alt:"prepared cupcakes ecommerce",loading:"lazy"})})]}),ge=()=>i("section",{className:"cupcakes-features",children:[e(k,{}),e(k,{}),e(k,{}),e(k,{})]}),_e=()=>e("section",{className:"pastry-course",children:i("div",{className:"container",children:[e("h2",{className:"title",children:"Curso de reposteria"}),e("p",{className:"description",children:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"}),e("button",{className:"button",children:"Inscribirme"})]})}),we=()=>i("section",{className:"delivery",children:[e("h2",{className:"title",children:"Delivery a toda la cuidad"}),e("p",{children:"Pide desde donde quieras y los cupcakes llegaran a tu casa"})]}),ve=()=>(l.exports.useEffect(()=>{window.scrollTo(0,0)},[]),i(h,{headerForHome:!0,children:[e(re,{}),e(ge,{}),e(_e,{}),e(we,{})]})),Me="_cupcake_3rqrm_1",ke="_sold_3rqrm_20",He="_description_3rqrm_23",Ne="_buttons_3rqrm_28";var ye={cupcake:Me,sold:ke,description:He,buttons:Ne};const T="ADD_TO_CART",S="REMOVE_FROM_CART",$="START_INITIAL_STATE",G="SELL_CUPCAKE",Ce=a=>({type:T,cupcake:a}),De=a=>({type:S,cupcake:a}),R=(a,t=!1)=>({type:$,cupcakes:a,error:t}),V=({id:a,sold:t})=>({type:G,cupcake:{id:a,sold:t}});var j={"btn-sell":"_btn-sell_1vmeq_1","sold-tag":"_sold-tag_1vmeq_1"};const Ae=(a,t)=>{fetch(`http://localhost:3050/cupcakes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>{t(V({id:a,sold:s.sold}))})},Ge=({cupcake:a})=>{const t=A(),s=g(({cupcakes:r})=>r.error),c=()=>{s?t(V({id:a.id,sold:!0})):Ae(a.id,t)};return e(m,{children:a.sold?e("span",{className:`text ${j["sold-tag"]}`,children:"vendido"}):e("button",{onClick:c,className:j["btn-sell"],children:"Vender"})})};var H={"btn-add":"_btn-add_1telz_1","btn-remove":"_btn-remove_1telz_1","cart-checked":"_cart-checked_1telz_41","cart-remove":"_cart-remove_1telz_44"};const Be=({cupcake:a})=>{const t=g(({cart:o})=>o),s=A(),c=()=>s(Ce(a)),r=()=>s(De(a));return e(m,{children:t.find(o=>o.id===a.id)?i("button",{onClick:r,className:`text ${H["btn-remove"]}`,children:[e(x,{name:"cart_checked",className:H["cart-checked"]}),e(x,{name:"cart_remove",className:H["cart-remove"]})]}):e("button",{onClick:c,className:`text ${H["btn-add"]}`,children:e(x,{name:"cart"})})})},N=({styles:a,id:t,description:s,img:c,flavor:r,color:o,price:n,sold:d})=>i("article",{className:a.cupcake,children:[e("img",{className:d?a.sold:null,src:c,alt:r,loading:"lazy"}),i("div",{className:a.description,children:[e("p",{className:"text",children:s}),i("span",{className:"text",children:["Color: ",o]}),i("span",{className:"text",children:["Precio: ",n]})]}),i("div",{className:a.buttons,children:[e(Ge,{cupcake:{id:t,sold:d}}),e(Be,{cupcake:{id:t,description:s,img:c,flavor:r,color:o,price:n,sold:d}})]})]});N.propTypes={price:f.exports.number,color:f.exports.string.isRequired,description:f.exports.string.isRequired,flavor:f.exports.string.isRequired,img:f.exports.string};N.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const qe=a=>{const[t,s]=l.exports.useState(),[c,r]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`http://localhost:3050/${a}`).then(o=>o.ok&&o.json()).then(o=>s(o)).catch(o=>r(o))},[a]),[t,c]},Re={cupcakes:[{id:1,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:2,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:3,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:4,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:5,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:6,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:7,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:8,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:9,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:10,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:11,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:12,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"}],services:[{id:1,name:"Curso de reposteria",description:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"},{id:2,name:"Delivery a toda la cuidad",description:"Pide desde donde quieras y los cupcakes llegaran a tu casa"}]},je=()=>{const[a,t]=qe("cupcakes"),s=A(),c=g(({cupcakes:r})=>r.data);return l.exports.useEffect(()=>{c.length||(a&&!t?s(R(a)):!a&&t&&s(R([...Re.cupcakes],!0)))},[a,t]),e(h,{children:i("section",{className:"cupcakes",children:[e("h1",{className:"title",children:"Todos los Cupcakes"}),e("div",{className:"container",children:c.length?c.map(({id:r,description:o,img:n,flavor:d,color:_,price:F,sold:I})=>e(N,{styles:ye,id:r,description:o,img:n,flavor:d,color:_,price:F,sold:I},r)):e("span",{children:"cargando"})})]})})},Le="_cupcake_1szjg_1",Ee="_sold_1szjg_25",ze="_description_1szjg_28",Te="_buttons_1szjg_33";var Se={cupcake:Le,sold:Ee,description:ze,buttons:Te};const $e=()=>{const a=g(({cart:t})=>t);return e(h,{children:i("section",{className:"cart-cupcakes",children:[e("h2",{className:"title",children:a.length?"Cupcakes del carrito":"No tienes cupcakes en el carrito"}),e("div",{className:"container",children:a.map(({id:t,description:s,img:c,flavor:r,color:o,price:n,sold:d})=>e(N,{styles:Se,id:t,description:s,img:c,flavor:r,color:o,price:n,sold:d},t))})]})})},Ve="_label_qpppc_1",Pe="_input_qpppc_10";var L={label:Ve,input:Pe};const p=({type:a,name:t,value:s,onChange:c,children:r})=>i("label",{className:L.label,htmlFor:t,children:[e("span",{children:r}),e("input",{className:L.input,type:a,id:t,name:t,value:s,onChange:c,required:!0})]}),Fe=()=>{const[a,t]=l.exports.useState({email:"",password:""}),s=r=>{t(C(y({},a),{[r.target.name]:r.target.value}))};return e(h,{children:i("section",{className:"login",children:[e("h1",{className:"title",children:"Iniciar sesion"}),i("form",{action:"",onSubmit:async r=>{var _;r.preventDefault();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},d=await(await fetch("http://localhost:3050/login",o)).json();localStorage.setItem("token",(_=d.token)!=null?_:null)},className:"forms",children:[e(p,{type:"email",name:"email",value:a.email,onChange:s,children:"Escribe tu correo"}),e(p,{type:"password",name:"password",value:a.password,onChange:s,children:"Escribe tu contrase\xF1a"}),e("input",{type:"submit",value:"Ingresar"})]})]})})},Ie=()=>{const[a,t]=l.exports.useState({name:"",email:"",password:"",repeatedPassword:""}),s=r=>{t(C(y({},a),{[r.target.name]:r.target.value}))};return e(h,{children:i("section",{className:"register",children:[e("h1",{className:"title",children:"Registrar usuario"}),i("form",{action:"",onSubmit:async r=>{if(r.preventDefault(),a.password!==a.repeatedPassword)return;const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};await fetch("http://localhost:3050/register",o)},className:"forms",children:[e(p,{type:"text",name:"name",value:a.name,onChange:s,children:"Nombre de usuario"}),e(p,{type:"email",name:"email",value:a.email,onChange:s,children:"Correo electronico"}),e(p,{type:"password",name:"password",value:a.password,onChange:s,children:"Contrase\xF1a"}),e(p,{type:"password",name:"repeatedPassword",value:a.repeatedPassword,onChange:s,children:"Repite la contrase\xF1a"}),e("p",{className:`error-message${a.password!==a.repeatedPassword?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})})},Oe=()=>e(h,{headerForHome:!0,children:e("section",{className:"page404",children:i("div",{className:"container",children:[e("h1",{className:"title",children:"404 page not found"}),e(z,{to:"/",className:"link",children:"Ir al Home"})]})})}),D=({render:a})=>e(a,{}),E=({render:a})=>e(a,{}),Ye=[],We=(a=Ye,{type:t,cupcake:s})=>t===T?a.concat(s):t===S?a.filter(c=>c.id!==s.id):t===G?a.map(c=>(c.id===s.id&&(c.sold=s.sold),c)):a,Ue={data:[],error:!1},Je=(a=Ue,{type:t,cupcakes:s,cupcake:c,error:r})=>t===$?{data:s,error:r}:t===G?{data:a.data.map(o=>(o.id===c.id&&(o.sold=c.sold),o)),error:a.error}:a,Ke=Z({cart:We,cupcakes:Je}),P=Q(Ke);P.subscribe(()=>null);const Ze=()=>e(X,{store:P,children:e(ee,{basename:"/ECOMMERCE",children:i(ae,{children:[e(u,{path:"/login",element:e(E,{render:Fe})}),e(u,{path:"/register",element:e(E,{render:Ie})}),e(u,{path:"/cart",element:e(D,{render:$e})}),e(u,{path:"/cupcakes",element:e(D,{render:je})}),e(u,{path:"/",element:e(D,{render:ve})}),e(u,{path:"*",element:e(Oe,{})})]})})});te.exports.render(e(l.exports.StrictMode,{children:e(Ze,{})}),document.getElementById("root"));
