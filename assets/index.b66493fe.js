var B=Object.defineProperty,H=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var y=(t,r,s)=>r in t?B(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,b=(t,r)=>{for(var s in r||(r={}))V.call(r,s)&&y(t,s,r[s]);if(w)for(var s of w(r))G.call(r,s)&&y(t,s,r[s]);return t},v=(t,r)=>H(t,I(r));import{r as i,j as C,N as U,p as h,R as k,B as $,S as W,a as Y}from"./vendor.089b9b46.js";const J=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};J();const N=i.exports.createContext(),e=C.exports.jsx,c=C.exports.jsxs,S=C.exports.Fragment,K=()=>{const[t]=i.exports.useContext(N);return c("span",{children:["Carrito: ",t.cart.length]})},m="/Proyecto-de-EDcupcake",x=({path:t,text:r})=>e(U,{className:"link",activeClassName:"active-page",exact:!0,to:m+t,children:r}),z=()=>c("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:c("ul",{className:"menu",children:[e("li",{className:"item",children:e(x,{path:"/",text:"Inicio"})}),e("li",{className:"item",children:e(x,{path:"/cupcakes",text:"Cupcakes"})}),e("li",{className:"item",children:e(x,{path:"/login",text:"Iniciar sesion"})}),e("li",{className:"item",children:e(x,{path:"/register",text:"Registrarse"})}),e("li",{className:"item",children:e(K,{})})]})})]}),D="ADD_TO_CART",P="REMOVE_FROM_CART",A="http://localhost:3050/",Q=(t,r)=>{fetch(`${A}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>r(s.sold))},R=({id:t,description:r,img:s,flavor:o,color:n,price:a,sold:u})=>{const d=i.exports.useRef(),[p,l]=i.exports.useState(u),[g,f]=i.exports.useContext(N),M=Q,_=()=>{f({type:D,cupcake:t})},L=()=>{f({type:P,cupcake:t})};return c("article",{className:"cupcake",children:[e("div",{children:e("img",{ref:d,className:p?"img sold":"img",src:s,alt:o})}),e("p",{className:"text",children:r}),c("span",{className:"text",children:["Color: ",n]}),c("span",{className:"text",children:["Precio: ",a]}),c("div",{className:"buttons",children:[p?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>M(t,l),children:"Vender"}),g.cart.find(j=>j===t)?e("button",{onClick:L,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:_,children:"Agregar al carrito"})]})]})};R.propTypes={price:h.exports.number,color:h.exports.string.isRequired,description:h.exports.string.isRequired,flavor:h.exports.string.isRequired,img:h.exports.string};R.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const E=i.exports.createContext(),F=({title:t,specificCupcakes:r})=>{const{cupcakes:s,error:o}=i.exports.useContext(E),n=s&&r=="MOST_SOLD"?s.filter(a=>a.flavor==="Chocolate"):s;return n?o?e("span",{children:"hubo un error en cupcakes"}):c(S,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),n?c("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:n.map(({id:a,description:u,img:d,flavor:p,color:l,price:g,sold:f})=>e(R,{id:a,description:u,img:d,flavor:p,color:l,price:g,sold:f},a))})]}):e("span",{children:"cargando"})]}):e("span",{children:"No hay cupcakes"})},T=t=>{const[r,s]=i.exports.useState(),[o,n]=i.exports.useState();return i.exports.useEffect(()=>{fetch(`${A}${t}`).then(a=>a.ok&&a.json()).then(a=>s(a)).catch(a=>n(a))},[t]),[r,o]},X=({request:t})=>{const[r,s]=T(t);return r?s?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:r.map(o=>c("article",{children:[e("h2",{children:o.name}),e("p",{children:o.description})]},o.id))}):e("span",{children:"No hay servicios"})},Z=()=>c("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),c("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e("button",{children:"Ver cupcakes"})]})]}),ee=()=>c(S,{children:[e(Z,{}),e(F,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(X,{request:"services"})]}),te=()=>e(F,{title:"h1"}),re=()=>{const[t,r]=i.exports.useState({email:"",password:""}),s=n=>{r(v(b({},t),{[n.target.name]:n.target.value}))};return c("section",{children:[e("h1",{children:"Iniciar sesion"}),c("form",{action:"",onSubmit:n=>{n.preventDefault(),alert("iniciar sesion")},children:[c("label",{htmlFor:"",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:s,required:!0})]}),c("label",{htmlFor:"",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:s,required:!0})]}),e("button",{children:"Ingresar"})]})]})},se=()=>e(re,{}),ne=()=>{const[t,r]=i.exports.useState({email:"",password:""}),[s,o]=i.exports.useState(""),[n,a]=i.exports.useState(!1),u=l=>{if(r(v(b({},t),{[l.target.name]:l.target.value})),s&&s!==l.target.value)return a(!0);a(!1)},d=l=>{if(o(l.target.value),t.password!==l.target.value)return a(!0);a(!1)};return c("section",{children:[e("h1",{children:"Registrar usuario"}),c("form",{action:"",onSubmit:l=>{l.preventDefault(),t.password===s&&(alert("registrar"),console.log(t))},children:[c("label",{htmlFor:"email",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:u,required:!0})]}),c("label",{htmlFor:"password",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:u,required:!0})]}),c("label",{htmlFor:"repeat-password",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:s,onChange:d,required:!0}),n&&e("span",{children:"Las contrase\xF1as tienen que ser iguales"})]}),e("button",{children:"Registrar"})]})]})},ae=()=>e(ne,{}),ce=()=>e("h1",{children:"404 not found"}),O=({component:t,path:r})=>e(k,{exact:!0,path:r,children:t}),q=({component:t,path:r})=>e(k,{exact:!0,path:r,children:t}),oe=(t,{type:r,cupcake:s})=>r===D?{cart:t.cart.concat(s)}:r===P?{cart:t.cart.filter(o=>o!==s)}:t,ie={cart:[]},le=({children:t})=>{const[r,s]=i.exports.useReducer(oe,ie);return e(N.Provider,{value:[r,s],children:t})},ue=({children:t,request:r})=>{if(!r)return t;const[s,o]=T(r);return e(E.Provider,{value:{cupcakes:s,error:o},children:t})},de=()=>e(le,{children:e(ue,{request:"cupcakes",children:c($,{children:[e(z,{}),c(W,{children:[e(q,{path:m+"/login",component:se}),e(q,{path:m+"/register",component:ae}),e(O,{path:m+"/cupcakes",component:te}),e(O,{path:m+"/",component:ee}),e(k,{children:e(ce,{})})]})]})})});Y.exports.render(e(i.exports.StrictMode,{children:e(de,{})}),document.getElementById("root"));
