var B=Object.defineProperty,H=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var y=(t,r,s)=>r in t?B(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,h=(t,r)=>{for(var s in r||(r={}))V.call(r,s)&&y(t,s,r[s]);if(w)for(var s of w(r))G.call(r,s)&&y(t,s,r[s]);return t},m=(t,r)=>H(t,I(r));import{r as i,j as C,N as U,L as $,p as f,R as k,B as W,S as Y,a as J}from"./vendor.dbb23f3e.js";const K=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};K();const N=i.exports.createContext(),e=C.exports.jsx,c=C.exports.jsxs,S=C.exports.Fragment,z=()=>{const[t]=i.exports.useContext(N);return c("span",{children:["Carrito: ",t.cart.length]})},x="/Proyecto-de-EDcupcake",g=({navLink:t,link:r,path:s,text:o})=>{const n={className:"link",to:x+s};if(t)return n.exact=!0,n.activeClassName="active-page",e(U,m(h({},n),{children:o}));if(r)return e($,m(h({},n),{children:o}))},Q=()=>c("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:c("ul",{className:"menu",children:[e("li",{className:"item",children:e(g,{navLink:!0,path:"/",text:"Inicio"})}),e("li",{className:"item",children:e(g,{navLink:!0,path:"/cupcakes",text:"Cupcakes"})}),e("li",{className:"item",children:e(g,{navLink:!0,path:"/login",text:"Iniciar sesion"})}),e("li",{className:"item",children:e(g,{navLink:!0,path:"/register",text:"Registrarse"})}),e("li",{className:"item",children:e(z,{})})]})})]}),D="ADD_TO_CART",P="REMOVE_FROM_CART",A="http://localhost:3050/",X=(t,r)=>{fetch(`${A}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>r(s.sold))},R=({id:t,description:r,img:s,flavor:o,color:n,price:a,sold:u})=>{const d=i.exports.useRef(),[p,l]=i.exports.useState(u),[b,v]=i.exports.useContext(N),q=X,M=()=>{v({type:D,cupcake:t})},_=()=>{v({type:P,cupcake:t})};return c("article",{className:"cupcake",children:[e("div",{children:e("img",{ref:d,className:p?"img sold":"img",src:s,alt:o})}),e("p",{className:"text",children:r}),c("span",{className:"text",children:["Color: ",n]}),c("span",{className:"text",children:["Precio: ",a]}),c("div",{className:"buttons",children:[p?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>q(t,l),children:"Vender"}),b.cart.find(j=>j===t)?e("button",{onClick:_,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:M,children:"Agregar al carrito"})]})]})};R.propTypes={price:f.exports.number,color:f.exports.string.isRequired,description:f.exports.string.isRequired,flavor:f.exports.string.isRequired,img:f.exports.string};R.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const E=i.exports.createContext(),L=({title:t,specificCupcakes:r})=>{const{cupcakes:s,error:o}=i.exports.useContext(E),n=s&&r=="MOST_SOLD"?s.filter(a=>a.flavor==="Chocolate"):s;return o?e("span",{children:"hubo un error en cupcakes"}):c(S,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),n?c("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:n.map(({id:a,description:u,img:d,flavor:p,color:l,price:b,sold:v})=>e(R,{id:a,description:u,img:d,flavor:p,color:l,price:b,sold:v},a))})]}):e("span",{children:"cargando"})]})},F=t=>{const[r,s]=i.exports.useState(),[o,n]=i.exports.useState();return i.exports.useEffect(()=>{fetch(`${A}${t}`).then(a=>a.ok&&a.json()).then(a=>s(a)).catch(a=>n(a))},[t]),[r,o]},Z=({request:t})=>{const[r,s]=F(t);return r?s?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:r.map(o=>c("article",{children:[e("h2",{children:o.name}),e("p",{children:o.description})]},o.id))}):e("span",{children:"No hay servicios"})},ee=()=>c("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),c("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(g,{link:!0,path:"/cupcakes",text:"Ver cupcakes"})]})]}),te=()=>c(S,{children:[e(ee,{}),e(L,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(Z,{request:"services"})]}),re=()=>e(L,{title:"h1"}),se=()=>{const[t,r]=i.exports.useState({email:"",password:""}),s=n=>{r(m(h({},t),{[n.target.name]:n.target.value}))};return c("section",{children:[e("h1",{children:"Iniciar sesion"}),c("form",{action:"",onSubmit:n=>{n.preventDefault(),alert("iniciar sesion")},children:[c("label",{htmlFor:"",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:s,required:!0})]}),c("label",{htmlFor:"",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:s,required:!0})]}),e("button",{children:"Ingresar"})]})]})},ne=()=>e(se,{}),ae=()=>{const[t,r]=i.exports.useState({email:"",password:""}),[s,o]=i.exports.useState(""),[n,a]=i.exports.useState(!1),u=l=>{if(r(m(h({},t),{[l.target.name]:l.target.value})),s&&s!==l.target.value)return a(!0);a(!1)},d=l=>{if(o(l.target.value),t.password!==l.target.value)return a(!0);a(!1)};return c("section",{children:[e("h1",{children:"Registrar usuario"}),c("form",{action:"",onSubmit:l=>{l.preventDefault(),t.password===s&&(alert("registrar"),console.log(t))},children:[c("label",{htmlFor:"email",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:u,required:!0})]}),c("label",{htmlFor:"password",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:u,required:!0})]}),c("label",{htmlFor:"repeat-password",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:s,onChange:d,required:!0}),n&&e("span",{children:"Las contrase\xF1as tienen que ser iguales"})]}),e("button",{children:"Registrar"})]})]})},ce=()=>e(ae,{}),oe=()=>e("h1",{children:"404 not found"}),T=({component:t,path:r})=>e(k,{exact:!0,path:r,children:t}),O=({component:t,path:r})=>e(k,{exact:!0,path:r,children:t}),ie=(t,{type:r,cupcake:s})=>r===D?{cart:t.cart.concat(s)}:r===P?{cart:t.cart.filter(o=>o!==s)}:t,le={cart:[]},ue=({children:t})=>{const[r,s]=i.exports.useReducer(ie,le);return e(N.Provider,{value:[r,s],children:t})},de=({children:t,request:r})=>{if(!r)return t;const[s,o]=F(r);return e(E.Provider,{value:{cupcakes:s,error:o},children:t})},pe=()=>e(ue,{children:e(de,{request:"cupcakes",children:c(W,{children:[e(Q,{}),c(Y,{children:[e(O,{path:x+"/login",component:ne}),e(O,{path:x+"/register",component:ce}),e(T,{path:x+"/cupcakes",component:re}),e(T,{path:x+"/",component:te}),e(k,{children:e(oe,{})})]})]})})});J.exports.render(e(i.exports.StrictMode,{children:e(pe,{})}),document.getElementById("root"));
