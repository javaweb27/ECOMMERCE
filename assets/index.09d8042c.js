import{r as i,j as x,N as j,p as d,R as B,B as M,S as w,a as H}from"./vendor.556a5daf.js";const O=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function c(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=c(n);fetch(n.href,s)}};O();const g=i.exports.createContext(),e=x.exports.jsx,a=x.exports.jsxs,v=x.exports.Fragment,L=()=>{const[t]=i.exports.useContext(g);return a("span",{children:["Carrito: ",t.cart.length]})},q="/Proyecto-de-EDcupcake",p=({path:t,text:r})=>e(j,{className:"link",activeClassName:"active-page",exact:!0,to:`${q}${t}`,children:r}),F=()=>a("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:a("ul",{className:"menu",children:[e("li",{className:"item",children:e(p,{path:"/",text:"Inicio"})}),e("li",{className:"item",children:e(p,{path:"/cupcakes",text:"Cupcakes"})}),e("li",{className:"item",children:e(p,{path:"/login",text:"Iniciar sesion"})}),e("li",{className:"item",children:e(p,{path:"/register",text:"Registrarse"})}),e("li",{className:"item",children:e(L,{})})]})})]}),N="ADD_TO_CART",y="REMOVE_FROM_CART",R="http://localhost:3050/",I=(t,r)=>{fetch(`${R}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(c=>c.ok&&c.json()).then(c=>r(c.sold))},k=({id:t,description:r,img:c,flavor:o,color:n,price:s,sold:l})=>{const m=i.exports.useRef(),[u,f]=i.exports.useState(l),[D,C]=i.exports.useContext(g),E=I,T=()=>{C({type:N,cupcake:t})},_=()=>{C({type:y,cupcake:t})};return a("article",{className:"cupcake",children:[e("div",{children:e("img",{ref:m,className:u?"img sold":"img",src:c,alt:o})}),e("p",{className:"text",children:r}),a("span",{className:"text",children:["Color: ",n]}),a("span",{className:"text",children:["Precio: ",s]}),a("div",{className:"buttons",children:[u?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>E(t,f),children:"Vender"}),D.cart.find(S=>S===t)?e("button",{onClick:_,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:T,children:"Agregar al carrito"})]})]})};k.propTypes={price:d.exports.number,color:d.exports.string.isRequired,description:d.exports.string.isRequired,flavor:d.exports.string.isRequired,img:d.exports.string};k.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const b=i.exports.createContext(),P=({title:t})=>{const{cupcakes:r,error:c}=i.exports.useContext(b);return r?c?e("span",{children:"hubo un error en cupcakes"}):a(v,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),r?a("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:r.map(({id:o,description:n,img:s,flavor:l,color:m,price:u,sold:f})=>e(k,{id:o,description:n,img:s,flavor:l,color:m,price:u,sold:f},o))})]}):e("span",{children:"cargando"})]}):e("span",{children:"No hay cupcakes"})},A=t=>{const[r,c]=i.exports.useState(),[o,n]=i.exports.useState();return i.exports.useEffect(()=>{fetch(`${R}${t}`).then(s=>s.ok&&s.json()).then(s=>c(s)).catch(s=>n(s))},[t]),[r,o]},V=({request:t})=>{const[r,c]=A(t);return r?c?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:r.map(o=>a("article",{children:[e("h2",{children:o.name}),e("p",{children:o.description})]},o.id))}):e("span",{children:"No hay servicios"})},$=()=>a("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),a("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e("button",{children:"Ver cupcakes"})]})]}),G=()=>a(v,{children:[e($,{}),e(P,{title:"h2"}),e(V,{request:"services"})]}),U=()=>e(P,{title:"h1"}),W=()=>e("h1",{children:"Iniciar sesion"}),Y=()=>e("h1",{children:"Registrarse"}),J=({children:t,request:r})=>{if(!r)return t;const[c,o]=A(r);return e(b.Provider,{value:{cupcakes:c,error:o},children:t})},h=({component:t,path:r,request:c})=>e(J,{request:c,children:e(B,{exact:!0,path:r,children:t})}),K=(t,{type:r,cupcake:c})=>r===N?{cart:t.cart.concat(c)}:r===y?{cart:t.cart.filter(o=>o!==c)}:t,z={cart:[]},Q=({children:t})=>{const[r,c]=i.exports.useReducer(K,z);return e(g.Provider,{value:[r,c],children:t})},X=()=>e(Q,{children:a(M,{children:[e(F,{}),a(w,{children:[e(h,{component:W,path:"/Proyecto-de-EDcupcake/login"}),e(h,{component:Y,path:"/Proyecto-de-EDcupcake/register"}),e(h,{component:U,path:"/Proyecto-de-EDcupcake/cupcakes",request:"cupcakes"}),e(h,{component:G,path:"/Proyecto-de-EDcupcake/",request:"cupcakes?flavor_like=Chocolate"})]})]})});H.exports.render(e(i.exports.StrictMode,{children:e(X,{})}),document.getElementById("root"));
