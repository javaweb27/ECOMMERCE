var I=Object.defineProperty,j=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var y=(t,r,s)=>r in t?I(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,p=(t,r)=>{for(var s in r||(r={}))B.call(r,s)&&y(t,s,r[s]);if(A)for(var s of A(r))U.call(r,s)&&y(t,s,r[s]);return t},h=(t,r)=>j(t,H(r));import{r as l,j as b,N as V,L as G,p as m,R as N,B as $,S as K,a as W}from"./vendor.dbb23f3e.js";const Y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};Y();const R=l.exports.createContext(),e=b.exports.jsx,o=b.exports.jsxs,E=b.exports.Fragment,J=()=>{const[t]=l.exports.useContext(R);return o("span",{children:["Carrito: ",t.cart.length]})},f="/Proyecto-de-EDcupcake",x=({navLink:t,link:r,path:s,text:c})=>{const n={className:"link",to:f+s};if(t)return n.exact=!0,n.activeClassName="active-page",e(V,h(p({},n),{children:c}));if(r)return e(G,h(p({},n),{children:c}))},z=()=>o("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:o("ul",{className:"menu",children:[e("li",{className:"item",children:e(x,{navLink:!0,path:"/",text:"Inicio"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/cupcakes",text:"Cupcakes"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/login",text:"Iniciar sesion"})}),e("li",{className:"item",children:e(x,{navLink:!0,path:"/register",text:"Registrarse"})}),e("li",{className:"item",children:e(J,{})})]})})]}),T="ADD_TO_CART",D="REMOVE_FROM_CART",L="START_INITIAL_STATE",P="SELL_CUPCAKE",w=l.exports.createContext(),_="http://localhost:3050/",Q=(t,r)=>{fetch(`${_}cupcakes/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>r({type:P,cupcake:t,sold:s.sold}))},S=({id:t,description:r,img:s,flavor:c,color:n,price:a,sold:i})=>{const{cupcakesDispatch:d}=l.exports.useContext(w),[g,u]=l.exports.useContext(R),k=()=>u({type:T,cupcake:t}),C=()=>u({type:D,cupcake:t});return o("article",{className:"cupcake",children:[e("div",{children:e("img",{className:i?"img sold":"img",src:s,alt:c})}),e("p",{className:"text",children:r}),o("span",{className:"text",children:["Color: ",n]}),o("span",{className:"text",children:["Precio: ",a]}),o("div",{className:"buttons",children:[i?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>Q(t,d),children:"Vender"}),g.cart.find(v=>v===t)?e("button",{onClick:C,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:k,children:"Agregar al carrito"})]})]})};S.propTypes={price:m.exports.number,color:m.exports.string.isRequired,description:m.exports.string.isRequired,flavor:m.exports.string.isRequired,img:m.exports.string};S.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const F=({title:t,specificCupcakes:r})=>{const{cupcakesState:s}=l.exports.useContext(w),{cupcakes:c,error:n}=s,a=c&&r=="MOST_SOLD"?c.filter(i=>i.flavor==="Chocolate"):c;return n?e("span",{children:"hubo un error en cupcakes"}):o(E,{children:[t==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),o("section",{className:"cupcakes",children:[t==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:a?a.map(({id:i,description:d,img:g,flavor:u,color:k,price:C,sold:v})=>e(S,{id:i,description:d,img:g,flavor:u,color:k,price:C,sold:v},i)):e("span",{children:"cargando"})})]})]})},q=t=>{const[r,s]=l.exports.useState(),[c,n]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${_}${t}`).then(a=>a.ok&&a.json()).then(a=>s(a)).catch(a=>n(a))},[t]),[r,c]},X=({request:t})=>{const[r,s]=q(t);return s?e("span",{children:"hubo un error en services"}):e("section",{className:"services",children:r?r.map(c=>o("article",{children:[e("h2",{children:c.name}),e("p",{children:c.description})]},c.id)):e("span",{children:"cargando"})})},Z=()=>o("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),o("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(x,{link:!0,path:"/cupcakes",text:"Ver cupcakes"})]})]}),ee=()=>o(E,{children:[e(Z,{}),e(F,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(X,{request:"services"})]}),te=()=>e(F,{title:"h1"}),re=()=>{const[t,r]=l.exports.useState({email:"",password:""}),s=n=>{r(h(p({},t),{[n.target.name]:n.target.value}))};return o("section",{children:[e("h1",{children:"Iniciar sesion"}),o("form",{action:"",onSubmit:n=>{n.preventDefault(),alert("iniciar sesion")},children:[o("label",{htmlFor:"",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:s,required:!0})]}),o("label",{htmlFor:"",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:s,required:!0})]}),e("button",{children:"Ingresar"})]})]})},se=()=>e(re,{}),ne=()=>{const[t,r]=l.exports.useState({email:"",password:""}),[s,c]=l.exports.useState(""),[n,a]=l.exports.useState(!1),i=u=>{if(r(h(p({},t),{[u.target.name]:u.target.value})),s&&s!==u.target.value)return a(!0);a(!1)},d=u=>{if(c(u.target.value),t.password!==u.target.value)return a(!0);a(!1)};return o("section",{children:[e("h1",{children:"Registrar usuario"}),o("form",{action:"",onSubmit:u=>{u.preventDefault(),t.password===s&&(alert("registrar"),console.log(t))},children:[o("label",{htmlFor:"email",children:["Escribe tu nombre de usuario",e("input",{type:"email",name:"email",value:t.email,onChange:i,required:!0})]}),o("label",{htmlFor:"password",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:t.password,onChange:i,required:!0})]}),o("label",{htmlFor:"repeat-password",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:s,onChange:d,required:!0}),n&&e("span",{children:"Las contrase\xF1as tienen que ser iguales"})]}),e("button",{children:"Registrar"})]})]})},ae=()=>e(ne,{}),ce=()=>e("h1",{children:"404 not found"}),O=({component:t,path:r})=>e(N,{exact:!0,path:r,children:t}),M=({component:t,path:r})=>e(N,{exact:!0,path:r,children:t}),oe=(t,{type:r,cupcake:s})=>r===T?{cart:t.cart.concat(s)}:r===D?{cart:t.cart.filter(c=>c!==s)}:t,ie={cart:[]},le=({children:t})=>{const[r,s]=l.exports.useReducer(oe,ie);return e(R.Provider,{value:[r,s],children:t})},ue=(t,{type:r,cupcakes:s,error:c,cupcake:n,sold:a})=>r===L?{cupcakes:s,error:c}:r===P?{cupcakes:t.cupcakes.map(i=>(i.id===n&&(i.sold=a),i))}:t,de=({children:t,request:r})=>{const s={},[c,n]=q(r),[a,i]=l.exports.useReducer(ue,s);return l.exports.useEffect(()=>{(c||n)&&i({type:L,cupcakes:c,error:n})},[c,n]),e(w.Provider,{value:{cupcakesState:a,cupcakesDispatch:i},children:t})},pe=()=>e(le,{children:e(de,{request:"cupcakes",children:o($,{children:[e(z,{}),o(K,{children:[e(M,{path:f+"/login",component:se}),e(M,{path:f+"/register",component:ae}),e(O,{path:f+"/cupcakes",component:te}),e(O,{path:f+"/",component:ee}),e(N,{children:e(ce,{})})]})]})})});W.exports.render(e(l.exports.StrictMode,{children:e(pe,{})}),document.getElementById("root"));
