var O=Object.defineProperty,Y=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var B=(a,t,r)=>t in a?O(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,y=(a,t)=>{for(var r in t||(t={}))U.call(t,r)&&B(a,r,t[r]);if(G)for(var r of G(t))J.call(t,r)&&B(a,r,t[r]);return a},N=(a,t)=>Y(a,W(t));import{j as c,a as e,L as z,N as K,u as x,F as u,r as d,b as D,p as b,c as Z,d as Q,P as X,B as ee,R as ae,e as p,f as te}from"./vendor.0f980395.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};re();const se=()=>c("section",{className:"banner",id:"banner-section",children:[e("img",{className:"bg-img",alt:"cupcakes ecommerce",src:"https://images.unsplash.com/photo-1581978392302-136a082482e5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=869&q=80"}),c("div",{className:"container",children:[e("h1",{children:"Bievenido a ECOMMERCE"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(z,{to:"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),oe=a=>a.getBoundingClientRect().height;var ie={"nav-menu":"_nav-menu_j7hx7_1"};const ce="_item_1unl2_1",ne="_link_1unl2_5",le="_active_1unl2_19";var w={item:ce,link:ne,active:le};const m=({to:a,children:t})=>{const r=({isActive:i})=>i?`${w.link} ${w.active}`:w.link;return e("li",{className:w.item,children:e(K,{to:a,className:r,children:t})})},de=()=>{const a=x(({cart:t})=>t);return c("span",{children:["Carrito: ",a.length]})},L=({header:a=!1})=>e("nav",{children:c("ul",{className:ie["nav-menu"],children:[e(m,{to:"/",children:"Inicio"}),e(m,{to:"/cupcakes",children:"Cupcakes"}),e(m,{to:"/cart",children:e(de,{})}),a?c(u,{children:[e(m,{to:"/login",children:"Iniciar Sesion"}),e(m,{to:"/register",children:"Registrarse"})]}):e(m,{to:"/profile",children:"Perfil"})]})}),ue=({headerForHome:a})=>{const t=d.exports.useRef();return document.onscroll=()=>{!a||(window.scrollY>=window.innerHeight-oe(t.current)?t.current.classList.add("bg-active"):t.current.classList.remove("bg-active"))},c("header",{ref:t,className:"header"+(a?" fixed":""),children:[e("div",{className:"img-container",children:e("img",{src:"https://images.unsplash.com/photo-1572451479139-6a308211d8be?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",alt:"icono de ecommerce"})}),e("span",{}),e(L,{header:!0})]})},pe=()=>e("footer",{className:"footer",children:e(L,{})}),f=({headerForHome:a,children:t})=>c(u,{children:[e(ue,{headerForHome:a}),e("main",{children:t}),e(pe,{})]}),me="_feature_1pb9b_1",he="_title_1pb9b_5",fe="_par_1pb9b_9";var v={feature:me,title:he,par:fe,"img-container":"_img-container_1pb9b_13"};const _=()=>c("article",{className:v.feature,children:[e("h3",{className:v.title,children:"Lorem ipsum sit amet"}),e("p",{className:v.par,children:"Enim omnis, neque dignissimos perspiciatis ab quidem dolores at quos, Enim omnis, neque dignissimos perspiciatis."}),e("div",{className:v["img-container"],children:e("img",{src:"https://images.unsplash.com/photo-1561817245-7af134029cea?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=869&q=80",alt:"prepared cupcakes ecommerce",loading:"lazy"})})]}),be=()=>c("section",{className:"cupcakes-features",children:[e(_,{}),e(_,{}),e(_,{}),e(_,{})]}),xe=()=>e("section",{className:"pastry-course",children:c("div",{className:"container",children:[e("h2",{className:"title",children:"Curso de reposteria"}),e("p",{className:"description",children:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"}),e("button",{className:"button",children:"Inscribirme"})]})}),ge=()=>c("section",{className:"delivery",children:[e("h2",{className:"title",children:"Delivery a toda la cuidad"}),e("p",{children:"Pide desde donde quieras y los cupcakes llegaran a tu casa"})]}),we=()=>(d.exports.useEffect(()=>{window.scrollTo(0,0)},[]),c(f,{headerForHome:!0,children:[e(se,{}),e(be,{}),e(xe,{}),e(ge,{})]})),ve="_cupcake_3rqrm_1",_e="_sold_3rqrm_20",Me="_description_3rqrm_23",He="_buttons_3rqrm_28";var ye={cupcake:ve,sold:_e,description:Me,buttons:He};const T="ADD_TO_CART",S="REMOVE_FROM_CART",$="START_INITIAL_STATE",A="SELL_CUPCAKE",Ne=a=>({type:T,cupcake:a}),ke=a=>({type:S,cupcake:a}),q=(a,t=!1)=>({type:$,cupcakes:a,error:t}),P=({id:a,sold:t})=>({type:A,cupcake:{id:a,sold:t}});var j={"btn-sell":"_btn-sell_1vmeq_1","sold-tag":"_sold-tag_1vmeq_1"};const Ce=(a,t)=>{fetch(`http://localhost:3050/cupcakes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(r=>r.ok&&r.json()).then(r=>{t(P({id:a,sold:r.sold}))})},De=({cupcake:a})=>{const t=D(),r=x(({cupcakes:s})=>s.error),i=()=>{r?t(P({id:a.id,sold:!0})):Ce(a.id,t)};return e(u,{children:a.sold?e("span",{className:`text ${j["sold-tag"]}`,children:"vendido"}):e("button",{onClick:i,className:j["btn-sell"],children:"Vender"})})},k=({name:a,className:t,width:r=null,height:i=null})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,fill:"currentColor",className:t,viewBox:"0 0 16 16",children:{cart:e("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),cart_checked:c(u,{children:[e("path",{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),cart_remove:c(u,{children:[e("path",{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}),e("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),close:c(u,{children:[e("path",{fillRule:"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),e("path",{fillRule:"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]}),list:e("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})}[a]});var M={"btn-add":"_btn-add_1telz_1","btn-remove":"_btn-remove_1telz_1","cart-checked":"_cart-checked_1telz_41","cart-remove":"_cart-remove_1telz_44"};const Ae=({cupcake:a})=>{const t=x(({cart:o})=>o),r=D(),i=()=>r(Ne(a)),s=()=>r(ke(a));return e(u,{children:t.find(o=>o.id===a.id)?c("button",{onClick:s,className:`text ${M["btn-remove"]}`,children:[e(k,{name:"cart_checked",className:M["cart-checked"]}),e(k,{name:"cart_remove",className:M["cart-remove"]})]}):e("button",{onClick:i,className:`text ${M["btn-add"]}`,children:e(k,{name:"cart"})})})},H=({styles:a,id:t,description:r,img:i,flavor:s,color:o,price:n,sold:l})=>c("article",{className:a.cupcake,children:[e("img",{className:l?a.sold:null,src:i,alt:s,loading:"lazy"}),c("div",{className:a.description,children:[e("p",{className:"text",children:r}),c("span",{className:"text",children:["Color: ",o]}),c("span",{className:"text",children:["Precio: ",n]})]}),c("div",{className:a.buttons,children:[e(De,{cupcake:{id:t,sold:l}}),e(Ae,{cupcake:{id:t,description:r,img:i,flavor:s,color:o,price:n,sold:l}})]})]});H.propTypes={price:b.exports.number,color:b.exports.string.isRequired,description:b.exports.string.isRequired,flavor:b.exports.string.isRequired,img:b.exports.string};H.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const Ge=a=>{const[t,r]=d.exports.useState(),[i,s]=d.exports.useState();return d.exports.useEffect(()=>{fetch(`http://localhost:3050/${a}`).then(o=>o.ok&&o.json()).then(o=>r(o)).catch(o=>s(o))},[a]),[t,i]},Be=[{id:1,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:2,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:3,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:4,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:5,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:6,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:7,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:8,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:9,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:10,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:11,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:12,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"}],qe=[{id:1,name:"Curso de reposteria",description:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"},{id:2,name:"Delivery a toda la cuidad",description:"Pide desde donde quieras y los cupcakes llegaran a tu casa"}];var je={cupcakes:Be,services:qe};const Re=()=>{const[a,t]=Ge("cupcakes"),r=D(),i=x(({cupcakes:s})=>s.data);return d.exports.useEffect(()=>{i.length||(a&&!t?r(q(a)):!a&&t&&r(q([...je.cupcakes],!0)))},[a,t]),e(f,{children:c("section",{className:"cupcakes",children:[e("h1",{className:"title",children:"Todos los Cupcakes"}),e("div",{className:"container",children:i.length?i.map(({id:s,description:o,img:n,flavor:l,color:g,price:F,sold:I})=>e(H,{styles:ye,id:s,description:o,img:n,flavor:l,color:g,price:F,sold:I},s)):e("span",{children:"cargando"})})]})})},Ee="_cupcake_1szjg_1",ze="_sold_1szjg_25",Le="_description_1szjg_28",Te="_buttons_1szjg_33";var Se={cupcake:Ee,sold:ze,description:Le,buttons:Te};const $e=()=>{const a=x(({cart:t})=>t);return e(f,{children:c("section",{className:"cart-cupcakes",children:[e("h2",{className:"title",children:a.length?"Cupcakes del carrito":"No tienes cupcakes en el carrito"}),e("div",{className:"container",children:a.map(({id:t,description:r,img:i,flavor:s,color:o,price:n,sold:l})=>e(H,{styles:Se,id:t,description:r,img:i,flavor:s,color:o,price:n,sold:l},t))})]})})},Pe="_label_qpppc_1",Ve="_input_qpppc_10";var R={label:Pe,input:Ve};const h=({type:a,name:t,value:r,onChange:i,children:s})=>c("label",{className:R.label,htmlFor:t,children:[e("span",{children:s}),e("input",{className:R.input,type:a,id:t,name:t,value:r,onChange:i,required:!0})]}),Fe=()=>{const[a,t]=d.exports.useState({email:"",password:""}),r=s=>{t(N(y({},a),{[s.target.name]:s.target.value}))};return e(f,{children:c("section",{className:"login",children:[e("h1",{className:"title",children:"Iniciar sesion"}),c("form",{action:"",onSubmit:async s=>{var g;s.preventDefault();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},l=await(await fetch("http://localhost:3050/login",o)).json();localStorage.setItem("token",(g=l.token)!=null?g:null)},className:"forms",children:[e(h,{type:"email",name:"email",value:a.email,onChange:r,children:"Escribe tu correo"}),e(h,{type:"password",name:"password",value:a.password,onChange:r,children:"Escribe tu contrase\xF1a"}),e("input",{type:"submit",value:"Ingresar"})]})]})})},Ie=()=>{const[a,t]=d.exports.useState({name:"",email:"",password:"",repeatedPassword:""}),r=s=>{t(N(y({},a),{[s.target.name]:s.target.value}))};return e(f,{children:c("section",{className:"register",children:[e("h1",{className:"title",children:"Registrar usuario"}),c("form",{action:"",onSubmit:async s=>{if(s.preventDefault(),a.password!==a.repeatedPassword)return;const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};await fetch("http://localhost:3050/register",o)},className:"forms",children:[e(h,{type:"text",name:"name",value:a.name,onChange:r,children:"Nombre de usuario"}),e(h,{type:"email",name:"email",value:a.email,onChange:r,children:"Correo electronico"}),e(h,{type:"password",name:"password",value:a.password,onChange:r,children:"Contrase\xF1a"}),e(h,{type:"password",name:"repeatedPassword",value:a.repeatedPassword,onChange:r,children:"Repite la contrase\xF1a"}),e("p",{className:`error-message${a.password!==a.repeatedPassword?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})})},Oe=()=>e(f,{headerForHome:!0,children:e("section",{className:"page404",children:c("div",{className:"container",children:[e("h1",{className:"title",children:"404 page not found"}),e(z,{to:"/",className:"link",children:"Ir al Home"})]})})}),C=({render:a})=>e(a,{}),E=({render:a})=>e(a,{}),Ye=[],We=(a=Ye,{type:t,cupcake:r})=>t===T?a.concat(r):t===S?a.filter(i=>i.id!==r.id):t===A?a.map(i=>(i.id===r.id&&(i.sold=r.sold),i)):a,Ue={data:[],error:!1},Je=(a=Ue,{type:t,cupcakes:r,cupcake:i,error:s})=>t===$?{data:r,error:s}:t===A?{data:a.data.map(o=>(o.id===i.id&&(o.sold=i.sold),o)),error:a.error}:a,Ke=Z({cart:We,cupcakes:Je}),V=Q(Ke);V.subscribe(()=>null);const Ze=()=>e(X,{store:V,children:e(ee,{basename:"/ECOMMERCE",children:c(ae,{children:[e(p,{path:"/login",element:e(E,{render:Fe})}),e(p,{path:"/register",element:e(E,{render:Ie})}),e(p,{path:"/cart",element:e(C,{render:$e})}),e(p,{path:"/cupcakes",element:e(C,{render:Re})}),e(p,{path:"/",element:e(C,{render:we})}),e(p,{path:"*",element:e(Oe,{})})]})})});te.exports.render(e(d.exports.StrictMode,{children:e(Ze,{})}),document.getElementById("root"));
