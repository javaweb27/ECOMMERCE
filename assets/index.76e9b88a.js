var L=Object.defineProperty,_=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var S=(a,t,r)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,N=(a,t)=>{for(var r in t||(t={}))W.call(t,r)&&S(a,r,t[r]);if(R)for(var r of R(t))Y.call(t,r)&&S(a,r,t[r]);return a},D=(a,t)=>_(a,O(t));import{r as l,j as M,N as f,p as h,L as I,R as H,B as U,S as $,a as K}from"./vendor.125ac162.js";const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}};J();const p="/Proyecto-de-EDcupcake",b=l.exports.createContext(),e=M.exports.jsx,n=M.exports.jsxs,y=M.exports.Fragment,z=()=>{const[a]=l.exports.useContext(b);return n(y,{children:["Carrito: ",a.cart.length]})},Q=()=>n("header",{className:"header",children:[e("div",{className:"img-container",children:e("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),e("span",{}),e("nav",{children:n("ul",{className:"menu",children:[e("li",{className:"item",children:e(f,{to:p+"/",exact:!0,className:"link",activeClassName:"active-page",children:"Inicio"})}),e("li",{className:"item",children:e(f,{to:p+"/cupcakes",exact:!0,className:"link",activeClassName:"active-page",children:"Cupcakes"})}),e("li",{className:"item",children:e(f,{to:p+"/login",exact:!0,className:"link",activeClassName:"active-page",children:"Iniciar Sesion"})}),e("li",{className:"item",children:e(f,{to:p+"/register",exact:!0,className:"link",activeClassName:"active-page",children:"Registrarse"})}),e("li",{className:"item",children:e(f,{to:p+"/cart",exact:!0,className:"link",activeClassName:"active-page",children:e(z,{})})})]})})]}),G={cupcakes:[{id:1,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:2,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:3,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:4,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:5,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:6,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:7,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:8,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:9,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"},{id:10,flavor:"Vainilla",color:"amarillo",description:"Gran cupcake sabor vainilla",price:5,sold:!1,img:"https://images.unsplash.com/photo-1519869325930-281384150729?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:11,flavor:"Chocolate",color:"marron",description:"Gran cupcake sabor chocolate",price:10,sold:!1,img:"https://images.unsplash.com/photo-1448131063153-f1e240f98a72?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:12,flavor:"Fresa",color:"rojo",description:"Gran cupcake sabor fresa",price:15,sold:!1,img:"https://images.unsplash.com/photo-1602578101453-78587cd2b2fa?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=402&q=80"}],services:[{id:1,name:"Curso de reposteria",description:"Este es un curso desde cero que ense\xF1ara a hacer cupcakes"},{id:2,name:"Delivery a toda la cuidad",description:"Pide desde donde quieras y los cupcakes llegaran a tu casa"}]},q="ADD_TO_CART",E="REMOVE_FROM_CART",j="START_INITIAL_STATE",w="SELL_CUPCAKE",A=l.exports.createContext(),T="http://localhost:3050/",X=(a,t,r)=>{fetch(`${T}cupcakes/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then(s=>s.ok&&s.json()).then(s=>{t({type:w,cupcake:a,sold:s.sold}),r({type:w,cupcake:{id:a,sold:s.sold}})})},v=({id:a,description:t,img:r,flavor:s,color:o,price:c,sold:i})=>{const{cupcakesState:d,cupcakesDispatch:x}=l.exports.useContext(A),[u,m]=l.exports.useContext(b),k=()=>m({type:q,cupcake:{id:a,description:t,img:r,flavor:s,color:o,price:c,sold:i}}),C=()=>m({type:E,cupcake:{id:a,description:t,img:r,flavor:s,color:o,price:c,sold:i}});return n("article",{className:"cupcake",children:[e("div",{className:"img-container",children:e("img",{className:i?"img sold":"img",src:r,alt:s})}),n("div",{className:"description",children:[e("p",{className:"text",children:t}),n("span",{className:"text",children:["Color: ",o]}),n("span",{className:"text",children:["Precio: ",c]})]}),n("div",{className:"buttons",children:[i?e("span",{className:"text",children:"vendido"}):e("button",{onClick:()=>{if(d.cupcakes&&!d.error)return X(a,x,m);for(const g of G.cupcakes)g.id===a&&(g.sold=!0)},children:"Vender"}),u.cart.find(g=>g.id===a)?e("button",{onClick:C,className:"text",children:"Remover Del Carrito"}):e("button",{onClick:k,children:"Agregar al carrito"})]})]})};v.propTypes={price:h.exports.number,color:h.exports.string.isRequired,description:h.exports.string.isRequired,flavor:h.exports.string.isRequired,img:h.exports.string};v.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};const P=({title:a,specificCupcakes:t})=>{const{cupcakesState:r}=l.exports.useContext(A);let{cupcakes:s,error:o}=r;(!s&&o||!s&&!o)&&(s=G.cupcakes);const c=s&&t=="MOST_SOLD"?s.filter(i=>i.flavor==="Chocolate"):s;return n(y,{children:[a==="h1"&&e("h1",{className:"title",children:"Pagina de Cupcakes"}),n("section",{className:"cupcakes",children:[a==="h2"&&e("h2",{className:"title",children:"Cupcakes mas vendidos"}),e("div",{className:"container",children:c?c.map(({id:i,description:d,img:x,flavor:u,color:m,price:k,sold:C})=>e(v,{id:i,description:d,img:x,flavor:u,color:m,price:k,sold:C},i)):e("span",{children:"cargando"})})]})]})},F=a=>{const[t,r]=l.exports.useState(),[s,o]=l.exports.useState();return l.exports.useEffect(()=>{fetch(`${T}${a}`).then(c=>c.ok&&c.json()).then(c=>r(c)).catch(c=>o(c))},[a]),[t,s]},Z=({request:a})=>{let[t,r]=F(a);return(!t&&r||!t&&!r)&&(t=G.services),e("section",{className:"services",children:t?t.map(s=>n("article",{children:[e("h2",{children:s.name}),e("p",{children:s.description})]},s.id)):e("span",{children:"cargando"})})},ee=()=>n("section",{className:"banner",children:[e("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),n("div",{className:"container",children:[e("h1",{children:"Bievenido a EDcupcake"}),e("p",{children:"\xA1Un sitio lleno de sabor!"}),e(I,{to:p+"/cupcakes",className:"link",children:"Ver cupcakes"})]})]}),ae=()=>n(y,{children:[e(ee,{}),e(P,{title:"h2",specificCupcakes:"MOST_SOLD"}),e(Z,{request:"services"})]}),te=()=>e(P,{title:"h1"}),re=()=>{const[a]=l.exports.useContext(b);return n("section",{className:"cart-cupcakes",children:[e("h2",{className:"title",children:"Cupcakes del carrito"}),e("div",{className:"container",children:a.cart.map(({id:t,description:r,img:s,flavor:o,color:c,price:i,sold:d})=>e(v,{id:t,description:r,img:s,flavor:o,color:c,price:i,sold:d},t))})]})},se=()=>e(re,{}),oe=()=>{const[a,t]=l.exports.useState({email:"",password:""}),r=o=>{t(D(N({},a),{[o.target.name]:o.target.value}))};return n("section",{children:[e("h1",{className:"title",children:"Iniciar sesion"}),n("form",{action:"",onSubmit:o=>{o.preventDefault(),alert("iniciar sesion")},className:"login",children:[n("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:a.email,onChange:r,required:!0})]}),n("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:a.password,onChange:r,required:!0})]}),e("input",{type:"submit",value:"Ingresar"})]})]})},ce=()=>e(oe,{}),ie=()=>{const[a,t]=l.exports.useState({name:"",email:"",password:""}),[r,s]=l.exports.useState(""),[o,c]=l.exports.useState(!1),i=u=>{if(t(D(N({},a),{[u.target.name]:u.target.value})),r&&r!==u.target.value)return c(!0);c(!1)},d=u=>{if(s(u.target.value),a.password!==u.target.value)return c(!0);c(!1)};return n("section",{children:[e("h1",{className:"title",children:"Registrar usuario"}),n("form",{action:"",onSubmit:u=>{u.preventDefault(),a.password===r&&alert("registrar")},className:"register",children:[n("label",{htmlFor:"name",className:"data",children:["Escribe tu nombre de usuario",e("input",{type:"text",name:"name",value:a.name,onChange:i,required:!0})]}),n("label",{htmlFor:"email",className:"data",children:["Escribe tu correo",e("input",{type:"email",name:"email",value:a.email,onChange:i,required:!0})]}),n("label",{htmlFor:"password",className:"data",children:["Escribe tu contrase\xF1a",e("input",{type:"password",name:"password",value:a.password,onChange:i,required:!0})]}),n("label",{htmlFor:"repeat-password",className:"data",children:["Repite la contrase\xF1a",e("input",{type:"password",name:"repeat-password",value:r,onChange:d,required:!0})]}),e("p",{className:`error-message${o?" is-active":""}`,children:"Las contrase\xF1as tienen que ser iguales"}),e("input",{type:"submit",value:"Registrar"})]})]})},ne=()=>e(ie,{}),le=()=>e("h1",{children:"404 not found"}),B=({component:a})=>e(H,{children:a}),V=({component:a})=>e(H,{children:a}),ue=(a,{type:t,cupcake:r})=>t===q?{cart:a.cart.concat(r)}:t===E?{cart:a.cart.filter(s=>s.id!==r.id)}:t===w?{cart:a.cart.map(s=>(s.id===r.id&&(s.sold=r.sold),s))}:a,pe={cart:[]},de=({children:a})=>{const[t,r]=l.exports.useReducer(ue,pe);return e(b.Provider,{value:[t,r],children:a})},me=(a,{type:t,cupcakes:r,error:s,cupcake:o,sold:c})=>t===j?{cupcakes:r,error:s}:t===w?{cupcakes:a.cupcakes.map(i=>(i.id===o&&(i.sold=c),i))}:a,fe=({children:a,request:t})=>{const r={},[s,o]=F(t),[c,i]=l.exports.useReducer(me,r);return l.exports.useEffect(()=>{(s||o)&&i({type:j,cupcakes:s,error:o})},[s,o]),e(A.Provider,{value:{cupcakesState:c,cupcakesDispatch:i},children:a})},he=()=>e(de,{children:e(fe,{request:"cupcakes",children:n(U,{children:[e(Q,{}),n($,{children:[e(V,{path:p+"/login",exact:!0,component:ce}),e(V,{path:p+"/register",exact:!0,component:ne}),e(B,{path:p+"/cart",exact:!0,component:se}),e(B,{path:p+"/cupcakes",exact:!0,component:te}),e(B,{path:p+"/",exact:!0,component:ae}),e(H,{path:"*",component:le})]})]})})});K.exports.render(e(l.exports.StrictMode,{children:e(he,{})}),document.getElementById("root"));
