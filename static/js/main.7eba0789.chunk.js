(this["webpackJsonpproyecto-de-edcupcake"]=this["webpackJsonpproyecto-de-edcupcake"]||[]).push([[0],{23:function(e,c,t){},30:function(e,c,t){"use strict";t.r(c);var s=t(1),r=t(15),n=(t(23),t(10)),a=t(4),i=t(16),o=Object(s.createContext)(),j=t(0),l=function(){var e=Object(i.useContext)(o),c=Object(a.a)(e,1)[0];return Object(j.jsxs)("span",{children:["Carrito: ",c.cart.length]})},u=function(){return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("div",{className:"img-container",children:Object(j.jsx)("img",{src:"https://ux.ed.team/img/edteam-ux.svg",alt:"icono de edcupcake"})}),Object(j.jsx)("span",{}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"menu",children:[Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(n.b,{className:"link",activeClassName:"active-page",exact:!0,to:"/Proyecto-de-EDcupcake/",children:"Inicio"})}),Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(n.b,{className:"link",activeClassName:"active-page",exact:!0,to:"/Proyecto-de-EDcupcake/cupcakes",children:"Cupcake"})}),Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(l,{})})]})})]})},d="ADD_TO_CART",b="REMOVE_FROM_CART",O=function(e,c){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Proyecto-de-EDcupcake",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL_API,"cupcakes/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sold:!0})}).then((function(e){return e.ok&&e.json()})).then((function(e){return c(e.sold)}))},h=function(e){var c=e.id,t=e.description,r=e.img,n=e.flavor,i=e.color,l=e.price,u=e.sold,h=Object(s.useRef)(),x=Object(s.useState)(u),p=Object(a.a)(x,2),m=p[0],f=p[1],v=Object(s.useContext)(o),k=Object(a.a)(v,2),C=k[0],N=k[1],_=O;return Object(j.jsxs)("article",{className:"cupcake",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{ref:h,className:m?"img sold":"img",src:r,alt:n})}),Object(j.jsx)("p",{className:"text",children:t}),Object(j.jsxs)("span",{className:"text",children:["Color: ",i]}),Object(j.jsxs)("span",{className:"text",children:["Precio: ",l]}),Object(j.jsxs)("div",{className:"buttons",children:[m?Object(j.jsx)("span",{className:"text",children:"vendido"}):Object(j.jsx)("button",{onClick:function(){return _(c,f)},children:"Vender"}),C.cart.find((function(e){return e===c}))?Object(j.jsx)("button",{onClick:function(){N({type:b,cupcake:c})},className:"text",children:"Remover Del Carrito"}):Object(j.jsx)("button",{onClick:function(){N({type:d,cupcake:c})},children:"Agregar al carrito"})]})]})};h.defaultProps={img:"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",price:0};var x=h,p=Object(s.createContext)(),m=Object(s.createContext)(),f=function(e){var c=e.title,t=Object(s.useContext)(p),r=Object(s.useContext)(m),n="h2"===c?r:"h1"===c&&t,a=n.cupcakes,i=n.error;return a?i?Object(j.jsx)("span",{children:"hubo un error en cupcakes"}):Object(j.jsxs)(j.Fragment,{children:["h1"===c&&Object(j.jsx)("h1",{className:"title",children:"Pagina de Cupcakes"}),a?Object(j.jsxs)("section",{className:"cupcakes",children:["h2"===c&&Object(j.jsx)("h2",{className:"title",children:"Cupcakes mas vendidos"}),Object(j.jsx)("div",{className:"container",children:a.map((function(e){var c=e.id,t=e.description,s=e.img,r=e.flavor,n=e.color,a=e.price,i=e.sold;return Object(j.jsx)(x,{id:c,description:t,img:s,flavor:r,color:n,price:a,sold:i},c)}))})]}):Object(j.jsx)("span",{children:"cargando"})]}):Object(j.jsx)("span",{children:"No hay cupcakes"})},v=function(e){var c=Object(s.useState)(),t=Object(a.a)(c,2),r=t[0],n=t[1],i=Object(s.useState)(),o=Object(a.a)(i,2),j=o[0],l=o[1];return Object(s.useEffect)((function(){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Proyecto-de-EDcupcake",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL_API).concat(e)).then((function(e){return e.ok&&e.json()})).then((function(e){return n(e)})).catch((function(e){return l(e)}))}),[e]),[r,j]},k=function(e){var c=e.request,t=v(c),s=Object(a.a)(t,2),r=s[0],n=s[1];return r?n?Object(j.jsx)("span",{children:"hubo un error en services"}):Object(j.jsx)("section",{className:"services",children:r.map((function(e){return Object(j.jsxs)("article",{children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("p",{children:e.description})]},e.id)}))}):Object(j.jsx)("span",{children:"No hay servicios"})},C=function(){return Object(j.jsxs)("section",{className:"banner",children:[Object(j.jsx)("img",{className:"bg-img",alt:"cupcakes EDcupcakes",src:"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80"}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Bievenido a EDcupcake"}),Object(j.jsx)("p",{children:"\xa1Un sitio lleno de sabor!"}),Object(j.jsx)("button",{children:"Ver cupcakes"})]})]})},N=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(C,{}),Object(j.jsx)(f,{title:"h2",request:"cupcakes?flavor_like=Chocolate"}),Object(j.jsx)(k,{request:"services"})]})},_=t(2),E=function(e){var c=e.children,t=e.request,s=v(t),r=Object(a.a)(s,2),n=r[0],i=r[1];return Object(j.jsx)(p.Provider,{value:{cupcakes:n,error:i},children:c})},g=function(e){var c=e.children,t=e.request,s=v(t),r=Object(a.a)(s,2),n=r[0],i=r[1];return Object(j.jsx)(m.Provider,{value:{cupcakes:n,error:i},children:c})},P={cart:[]},D=function(e,c){var t=c.type,s=c.cupcake;return t===d?{cart:e.cart.concat(s)}:t===b?{cart:e.cart.filter((function(e){return e!==s}))}:e},S=function(e){var c=e.children,t=Object(s.useReducer)(D,P),r=Object(a.a)(t,2),n=r[0],i=r[1];return Object(j.jsx)(o.Provider,{value:[n,i],children:c})},T=function(){return Object(j.jsx)(S,{children:Object(j.jsxs)(n.a,{children:[Object(j.jsx)(u,{}),Object(j.jsxs)(_.c,{children:[Object(j.jsx)(_.a,{path:"/Proyecto-de-EDcupcake/cupcakes",children:Object(j.jsx)(E,{request:"cupcakes",children:Object(j.jsx)(f,{title:"h1"})})}),Object(j.jsx)(_.a,{path:"/Proyecto-de-EDcupcake/",children:Object(j.jsx)(g,{request:"cupcakes?flavor_like=Chocolate",children:Object(j.jsx)(N,{})})})]})]})})};Object(r.render)(Object(j.jsx)(s.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7eba0789.chunk.js.map