{"version":3,"sources":["components/context/CartContext.jsx","components/elements/CartCounter.jsx","components/sections/Header.jsx","components/context/actions.js","components/hooks/useFetchPATCH.jsx","components/cards/Cupcake.jsx","components/context/CupcakesContext.jsx","components/context/CupcakesMostSoldContext.jsx","components/pages/cupcakes.jsx","components/hooks/useFetchGET.jsx","components/sections/Services.jsx","components/sections/Banner.jsx","components/pages/home.jsx","components/context/CupcakesProvider.jsx","components/context/CupcakesMostSoldProvider.jsx","components/context/CartProvider.jsx","components/App.jsx","index.jsx"],"names":["CartContext","createContext","CartCounter","useContext","state","cart","length","Header","className","src","alt","activeClassName","exact","to","ADD_TO_CART","REMOVE_FROM_CART","useFetchPATCH","id","setData","fetch","process","method","headers","body","JSON","stringify","sold","then","response","ok","json","data","Cupcake","description","img","flavor","color","price","imgCupcake","useRef","useState","hasBeenSold","setHasBeenSold","dispatch","sell","ref","onClick","find","c","type","cupcake","defaultProps","CupcakesContext","CupcakesMostSoldContext","Cupcakes","title","cupcakesContext","cupcakesMostSoldContext","context","cupcakes","error","map","useFetchGET","endpoint","setError","useEffect","catch","err","Services","request","useFetch","services","s","name","Banner","Home","CupcakesProvider","children","Provider","value","CupcakesMostSoldProvider","initialState","cartReducer","concat","filter","CartProvider","useReducer","App","path","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f53f155.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst CartContext = createContext()\n\nexport default CartContext","import { useContext } from \"react/cjs/react.development\"\nimport CartContext from \"../context/CartContext\"\n\nconst CartCounter = () => {\n\n  const [state] = useContext(CartContext)\n\n  return (\n    <span>Carrito: {state.cart.length}</span>\n  )\n}\n\nexport default CartCounter","import {NavLink} from \"react-router-dom\"\nimport CartCounter from \"../elements/CartCounter\"\n\nconst Header = () => (\n  <header className=\"header\">\n    <div className=\"img-container\">\n      <img src=\"https://ux.ed.team/img/edteam-ux.svg\" alt=\"icono de edcupcake\"/>\n    </div>\n    <span/>\n    <nav>\n      <ul className=\"menu\">\n          <li className=\"item\">\n            <NavLink \n              className=\"link\" \n              activeClassName=\"active-page\" \n              exact\n              to=\"/Proyecto-de-EDcupcake/\">Inicio\n            </NavLink>\n          </li>\n\n          <li className=\"item\">\n            <NavLink \n              className=\"link\" \n              activeClassName=\"active-page\" \n              exact\n              to=\"/Proyecto-de-EDcupcake/cupcakes\">Cupcake\n            </NavLink>\n          </li>\n\n          <li className=\"item\">\n            <CartCounter/>\n          </li>\n      </ul>\n    </nav>\n  </header>\n)\nexport default Header","export const ADD_TO_CART = \"ADD_TO_CART\"\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\"","const useFetchPATCH = (id, setData) => {\n\n  fetch(`${process.env.REACT_APP_URL_API}cupcakes/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      sold: true\n    })\n  })\n  .then(response => response.ok && response.json())\n  .then(data => setData(data.sold))\n}\n\nexport default useFetchPATCH","import {number, string} from \"prop-types\"\nimport { useContext } from \"react\"\nimport { useRef, useState } from \"react\"\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"../context/actions\"\nimport CartContext from \"../context/CartContext\"\nimport useFetchPATCH from \"../hooks/useFetchPATCH\"\n\nconst Cupcake = ({\n  id,\n  description,\n  img,\n  flavor,\n  color,\n  price,\n  sold\n}) => {\n\n  const imgCupcake = useRef()\n  const [hasBeenSold, setHasBeenSold] = useState(sold)\n\n  const [state, dispatch] = useContext(CartContext)\n  const sell = useFetchPATCH\n\n  const addToCart = () => {\n    dispatch({\n      type: ADD_TO_CART,\n      cupcake: id\n    })\n  }\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      cupcake: id\n    })\n  }\n  \n  return (\n    <article className=\"cupcake\">\n      <div>\n        <img ref={imgCupcake} className={hasBeenSold ? \"img sold\" : \"img\"} src={img} alt={flavor} />\n      </div>\n      <p className=\"text\">{description}</p>\n      <span className=\"text\">Color: {color}</span>\n      <span className=\"text\">Precio: {price}</span>\n      <div>\n        { hasBeenSold ? \n          <span className=\"text\">vendido</span> \n          : \n          <button onClick={() => sell(id, setHasBeenSold)}>Vender</button>\n        }\n        { state.cart.find(c => c === id) ? \n          <button onClick={removeFromCart} className=\"text\">Remover Del Carrito</button>\n          :\n          <button onClick={addToCart}>Agregar al carrito</button>\n        }\n      </div>\n    </article>\n  )\n} \n\nCupcake.propTypes = {\n  price: number,\n  color: string.isRequired,\n  description: string.isRequired,\n  flavor: string.isRequired,\n  img: string\n}\n\nCupcake.defaultProps = {\n  img: \"https://images.unsplash.com/photo-1455731657401-43502b7c1ab9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80\",\n  price: 0\n}\n\nexport default Cupcake","import { createContext } from \"react\";\n\nconst CupcakesContext = createContext()\n\nexport default CupcakesContext","import { createContext } from \"react\";\n\nconst CupcakesMostSoldContext = createContext()\n\nexport default CupcakesMostSoldContext","import { useContext } from \"react\"\nimport Cupcake from \"../cards/Cupcake\"\nimport CupcakesContext from \"../context/CupcakesContext\"\nimport CupcakesMostSoldContext from \"../context/CupcakesMostSoldContext\"\n\nconst Cupcakes = ({title}) => {\n\n  const cupcakesContext = useContext(CupcakesContext)\n  const cupcakesMostSoldContext = useContext(CupcakesMostSoldContext)\n\n  const context = (\n    title === \"h2\" ? cupcakesMostSoldContext : \n    title === \"h1\" ? cupcakesContext :  false\n  )\n\n  const {cupcakes, error} = context\n\n  if (!cupcakes) {\n    return <span>No hay cupcakes</span>\n  }\n\n  if (error) {\n    return <span>hubo un error en cupcakes</span>\n  }\n\n  return (\n  <>\n    { title === \"h1\" && <h1 className=\"title\">Pagina de Cupcakes</h1>}\n    {\n      cupcakes ? (\n        <section className=\"cupcakes\">\n          { title === \"h2\" && <h2 className=\"title\">Cupcakes mas vendidos</h2>}\n          <div className=\"container\">\n          {\n            cupcakes.map(({\n              id,\n              description,\n              img,\n              flavor,\n              color,\n              price,\n              sold\n            }) => {\n              return (\n                <Cupcake\n                  key={id}\n                  id={id}\n                  description={description}\n                  img={img}\n                  flavor={flavor}\n                  color={color}\n                  price={price}\n                  sold={sold}\n                />\n              )\n            })\n            \n          }\n          </div>\n        </section>\n      ) : (<span>cargando</span>)\n    }\n  </>\n  )\n}\n\nexport default Cupcakes","import {useState, useEffect} from \"react\"\n\nconst useFetchGET = (endpoint) => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_URL_API}${endpoint}`)\n      .then(response => response.ok && response.json())\n      .then(data => setData(data))\n      .catch(err => setError(err))\n  }, [endpoint])\n\n  return [data, error]\n}\n\nexport default useFetchGET","import useFetch from \"../hooks/useFetchGET\"\n\nconst Services = ({request}) => {\n\n  const [services, error] = useFetch(request)\n\n  if (!services) {\n    return <span>No hay servicios</span>\n  }\n\n  if (error) {\n    return <span>hubo un error en services</span>\n  }\n\n  return (\n    <section className=\"services\">\n      {\n        services.map(s => (\n          <article key={s.id}>\n            <h2>{s.name}</h2>\n            <p>{s.description}</p>\n          </article>\n        ))\n      }\n    </section>\n  )\n}\n\nexport default Services","const Banner = () => (\n  <section className=\"banner\">\n    <img className=\"bg-img\" alt=\"cupcakes EDcupcakes\" src=\"https://images.unsplash.com/photo-1618652970214-19b55729f0e6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1450&q=80\"/>\n    <div className=\"container\">\n      <h1>Bievenido a EDcupcake</h1>\n      <p>¡Un sitio lleno de sabor!</p>\n      <button>Ver cupcakes</button>\n    </div>\n  </section>\n)\n\nexport default Banner","import Cupcakes from \"./cupcakes\"\nimport Services from \"../sections/Services\"\nimport Banner from \"../sections/Banner\"\n\nconst  Home = () => (\n  <>\n    <Banner/>\n    <Cupcakes title=\"h2\" request=\"cupcakes?flavor_like=Chocolate\"/>\n    <Services request=\"services\"/>\n  </>\n)\nexport default Home","import useFetchGET from \"../hooks/useFetchGET\"\nimport CupcakesContext from \"./CupcakesContext\"\n\nconst CupcakesProvider = ({children, request}) => {\n\n  const [cupcakes, error] = useFetchGET(request)\n\n  return (\n    <CupcakesContext.Provider value={{cupcakes, error}}>\n      {children}\n    </CupcakesContext.Provider>\n  )\n}\n\nexport default CupcakesProvider","import useFetchGET from \"../hooks/useFetchGET\"\nimport CupcakesMostSoldContext from \"./CupcakesMostSoldContext\"\n\nconst CupcakesMostSoldProvider = ({children, request}) => {\n\n  const [cupcakes, error] = useFetchGET(request)\n\n  return (\n    <CupcakesMostSoldContext.Provider value={{cupcakes, error}}>\n      {children}\n    </CupcakesMostSoldContext.Provider>\n  )\n}\n\nexport default CupcakesMostSoldProvider","import { useReducer } from \"react\"\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"./actions\"\nimport CartContext from \"./CartContext\"\n\nconst initialState = {\n  cart: []\n}\n\nconst cartReducer = (state, {type, cupcake}) => {\n\n  if (type === ADD_TO_CART) {\n    return {\n      cart: state.cart.concat(cupcake)\n    }\n  }\n\n  if (type === REMOVE_FROM_CART) {\n    return {\n      cart: state.cart.filter(c => c !== cupcake)\n    }\n  }\n\n  return state\n}\n\nconst CartProvider = ({children}) => {\n\n  const [state, dispatch] = useReducer(cartReducer, initialState)\n\n  return (\n    <CartContext.Provider value={[state, dispatch]}>\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport default CartProvider","import \"../styles/styles.scss\"\nimport Header from \"./sections/Header\";\nimport Home from \"./pages/home\";\nimport Cupcakes from \"./pages/cupcakes\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport CupcakesProvider from \"./context/CupcakesProvider\";\nimport CupcakesMostSoldProvider from \"./context/CupcakesMostSoldProvider\";\nimport CartProvider from \"./context/CartProvider\";\n\nconst App = () => (\n  <CartProvider>\n    <Router>\n      <Header/>\n    \n      <Switch>\n        <Route path=\"/Proyecto-de-EDcupcake/cupcakes\">\n          <CupcakesProvider request=\"cupcakes\">\n            <Cupcakes title=\"h1\"/>\n          </CupcakesProvider>\n        </Route>\n\n        <Route path=\"/Proyecto-de-EDcupcake/\">\n          <CupcakesMostSoldProvider request=\"cupcakes?flavor_like=Chocolate\">\n            <Home/>\n          </CupcakesMostSoldProvider>\n        </Route>\n      </Switch>\n    </Router>\n  </CartProvider>\n)\n\nexport default App;\n","import {StrictMode} from 'react';\nimport {render} from 'react-dom';\nimport App from './components/App';\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}